!function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={2:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(){return Promise.resolve()},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/hubs",i.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([1224,1,0]),n()}({114:function(e,t,n){"use strict";function r(e){let t=0;const n={};return e.onmessage=t=>{const{id:r,result:o,err:a}=t.data,i=n[r];null==i?console.error(`Unknown message with ID ${r} received from ${e}.`):(delete n[r],null!=a?i.reject(new Error(a)):i.resolve(o))},function(r,o,a={}){const i=t++,s=new Promise((e,t)=>{n[i]={resolve:e,reject:t}});return e.postMessage(Object.assign(a,{id:i,payload:r}),o),s}}n.d(t,"a",function(){return r})},115:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return g});var r=n(76),o=n(4),a=n(7),i=n(16);function s(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)})}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={entries:[],meta:{}},d={scenes:"scene_listings",images:"bing_images",videos:"bing_videos",youtube:"youtube_videos",gifs:"tenor",sketchfab:"sketchfab",poly:"poly",twitch:"twitch",favorites:"favorites"},p=o.a.AVAILABLE_INTEGRATIONS,h=["poly","sketchfab","videos","scenes","avatars","gifs","images"].filter(e=>{const t=d[e];return!p.hasOwnProperty(t)||p[t]}),f={gifs:"trending",sketchfab:"featured",scenes:"featured",favorites:"my-favorites"},m=["q","filter","cursor","similar_to"];class g extends r.a{constructor(){var e;super(),e=this,u(this,"_update",function(){var t=c(function*(t){e.result=null,e.dispatchEvent(new CustomEvent("statechanged"));const n=e.getUrlMediaSource(t);if(!n)return;e.previousSource&&e.previousSource===n||(e.dispatchEvent(new CustomEvent("sourcechanged")),e.previousSource=n);const r=new URLSearchParams(t.search);e.requestIndex++;const o=e.requestIndex,i=new URLSearchParams,s=new URLSearchParams(t.search),c=s.get("filter")&&s.get("filter").startsWith("my-");for(const e of m)r.get(e)&&i.set(e,r.get(e));let u;if(i.get("locale",navigator.languages[0]),"avatars"===n||"scenes"===n){const e="avatars"===n?"avatar":"scene";u=c?`${e}s`:`${e}_listings`}else u=d[n];i.set("source",u);let p=!0;"avatars"!==u&&"scenes"!==u&&"favorites"!==u||c&&(window.APP.store.credentialsAccountId?i.set("user",window.APP.store.credentialsAccountId):p=!1);const h=`/api/v1/media/search?${i.toString()}`,f=Object(a.i)(h);if(e.lastSavedUrl===f)return;e.isFetching=!0,e.dispatchEvent(new CustomEvent("statechanged"));const g=p?yield Object(a.d)(h):l;e.requestIndex==o&&(e.result=g,e.nextCursor=e.result&&e.result.meta&&e.result.meta.next_cursor,e.lastFetchedUrl=f,e.isFetching=!1,e.dispatchEvent(new CustomEvent("statechanged")))});return function(e){return t.apply(this,arguments)}}()),u(this,"pageNavigate",e=>{if(-1===e)this.history.goBack();else{const e=this.history.location,t=new URLSearchParams(e.search);t.set("cursor",this.nextCursor),Object(i.d)(this.history,e.pathname,t.toString())}}),u(this,"filterQueryNavigate",(e,t)=>{const n=this.history.location,r=new URLSearchParams(n.search);r.delete("similar_to"),r.delete("similar_name"),t?r.set("q",t):r.delete("q"),e?r.set("filter",e):r.delete("filter"),e?r.set("cursor",e):r.delete("cursor"),Object(i.d)(this.history,n.pathname,r.toString())}),u(this,"getSearchClearedSearchParams",(e,t,n,r)=>{const o=new URLSearchParams(e.search);return o.delete("q"),o.delete("filter"),o.delete("cursor"),o.delete("similar_to"),o.delete("similar_name"),n||o.delete("media_nav"),t||o.delete("media_source"),r||o.delete("selectAction"),o}),u(this,"_stashLastSearchParams",e=>{const t=new URLSearchParams(e.search);this._stashedParams={},this._stashedSource=null;const n=this.getUrlMediaSource(e);if("favorites"!==n){this._stashedSource=n;for(const e of m){const n=t.get(e);n&&(this._stashedParams[e]=n)}}}),u(this,"clearStashedQuery",()=>{this._stashedParams&&delete this._stashedParams.q}),u(this,"sourceNavigate",e=>{this._sourceNavigate(e,!1,!0)}),u(this,"sourceNavigateToDefaultSource",()=>{this._sourceNavigate(this._stashedSource?this._stashedSource:h[0],!1,!0)}),u(this,"sourceNavigateWithNoNav",(e,t)=>{this._sourceNavigate(e,!0,!1,t)}),u(this,"_sourceNavigate",function(){var t=c(function*(t,n,r,s){const c=new URLSearchParams(e.history.location.search).get("q"),u=e.getSearchClearedSearchParams(e.history.location);if(c)u.set("q",c);else if(r&&e._stashedParams)for(const n of m){const r=e._stashedParams[n],o="q"===n||e._stashedSource===t;r&&o&&u.set(n,r)}else if("avatars"===t){const t=yield e._hasAccountWithAvatars();u.set("filter",t?"my-avatars":"featured")}else f[t]&&u.set("filter",f[t]);e._stashedParams=null,e._stashedSource=null,n&&u.set("media_nav","false"),s&&u.set("selectAction",s),Object(a.k)()&&document.location.host!==o.a.RETICULUM_SERVER?(u.set("media_source",t),Object(i.d)(e.history,e.history.location.pathname,u.toString())):Object(i.d)(e.history,Object(i.h)(e.history.location,`/media/${t}`),u.toString())});return function(e,n,r,o){return t.apply(this,arguments)}}()),u(this,"_hasAccountWithAvatars",c(function*(){const{credentialsAccountId:e}=window.APP.store;if(!e)return!1;const t=new URLSearchParams;t.set("source","avatars"),t.set("user",e);const n=yield Object(a.d)(`/api/v1/media/search?${t.toString()}`);return!(!n||!n.entries)&&n.entries.length>0})),u(this,"getUrlMediaSource",e=>{const{search:t}=e,n=new URLSearchParams(t),r=Object(i.g)(e);return r.startsWith("/media")||n.get("media_source")?n.get("media_source")||r.substring(7):null}),u(this,"pushExitMediaBrowserHistory",(e,t=!0)=>{e||(e=this.history),t&&this._stashLastSearchParams(e.location);const{pathname:n}=e.location,r=Object(i.g)(e.location).startsWith("/media");Object(i.d)(e,r?Object(i.h)(e.location,"/"):n,this.getSearchClearedSearchParams(e.location).toString()),this.dispatchEvent(new CustomEvent("media-exit"))}),this.requestIndex=0}setHistory(e){this.history=e,this._update(this.history.location),this.history.listen(e=>{this._update(e)})}}},12:function(e,t,n){"use strict";n.d(t,"j",function(){return m}),n.d(t,"h",function(){return g}),n.d(t,"i",function(){return v}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return w}),n.d(t,"g",function(){return O}),n.d(t,"f",function(){return M}),n.d(t,"e",function(){return j}),n.d(t,"d",function(){return I});var r=n(7),o=n(4);function a(e,t){a=function(e,t){return new s(e,t)};var n=i(RegExp),r=RegExp.prototype,o=new WeakMap;function s(e,t){var r=n.call(this,e);return o.set(r,t),r}function u(e,n){var r=o.get(n);return Object.keys(t).reduce(function(t,n){return t[n]=e[r[n]],t},Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,n),s.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=u(t,this)),t},s.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=o.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}if("function"==typeof t){var a=this;return r[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(u(e,a)),t.apply(this,e)})}return r[Symbol.replace].call(this,e,t)},a.apply(this,arguments)}function i(e){var t="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)})(e)}function s(e,t,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&c(o,n.prototype),o}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)})}}const p=(o.a.NON_CORS_PROXY_DOMAINS||"").split(",");o.a.CORS_PROXY_SERVER&&p.push(o.a.CORS_PROXY_SERVER);const h={gltf:"model/gltf",glb:"model/gltf-binary",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",pdf:"application/pdf",mp4:"video/mp4",mp3:"audio/mpeg",basis:"image/basis"};const f=e=>(function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode("0x"+t)))})(e).replace(/=+$/g,"").replace(/\+/g,"-").replace(/\//g,"_"),m=(e,t,n)=>{let a="";try{const t=new URL(e).pathname.split(".");if(t.length>1){const e=t.pop();h[e]&&(a=`.${e}`)}}catch(e){a=".png"}const i=`https://${o.a.THUMBNAIL_SERVER}/thumbnail/${f(e)}${a}?w=${t}&h=${n}`;try{const t=new URL(e).hostname;if(Object(r.k)()){if(new URL(`https://${o.a.RETICULUM_SERVER}`).hostname===t)return e}}catch(e){return i}return i},g=e=>p.find(t=>e.endsWith(t)),v=e=>{if(!e.startsWith("http:")&&!e.startsWith("https:"))return e;try{const t=new URL(e);if(g(t.hostname))return e}catch(e){}return`https://${o.a.CORS_PROXY_SERVER}/${e}`};function y(e,t){return function(e,t){return new URL(t,e)}(e,t).href}const b=e=>t=>{if("string"!=typeof t||""===t)return"";if(/^(https?:)?\/\//i.test(t))return t;if(/^data:.*,.*$/i.test(t))return t;if(/^blob:.*$/i.test(t))return t;if(o.a.CORS_PROXY_SERVER){const n=`https://${o.a.CORS_PROXY_SERVER}/`;if(e.startsWith(n)){const r=decodeURIComponent(e.substring(n.length)).split("/"),o=new URL(t).pathname;return n+(r.slice(0,r.length-1).join("/")+"/"+o)}}return t},_=/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/,w=e=>{if(!e)return;if(e.startsWith("hubs://")&&e.endsWith("/video"))return"video/vnd.hubs-webrtc";if(e.startsWith("data:")){const t=_.exec(e);t.length>0&&t[1]}const t=new URL(e,window.location).pathname.split(".").pop();return h[t]},E=new Map;function T(e){return R.apply(this,arguments)}function R(){return(R=d(function*(e){if(!e)return!1;e.startsWith("http")||(e="https://"+e);const{origin:t}=new URL(e);if(E.has(t))return E.get(t);let n;try{n=(yield fetch(v(t),{method:"HEAD"})).headers.has("hub-name")}catch(e){n=!1}return E.set(t,n),n})).apply(this,arguments)}const P=/https?:\/\/[^\/]+\/scenes\/(\w+)\/?\S*/,S=a(/https?:\/\/[^\/]+\/avatars\/(\w+)\/?\S*/,{id:1}),A=/(https?:\/\/)?[^\/]+\/([a-zA-Z0-9]{7})\/?\S*/,x=function(){var e=d(function*(e){return(yield T(e))&&new URL(e).origin===document.location.origin});return function(t){return e.apply(this,arguments)}}(),C=function(){var e=d(function*(e){return(yield T(e))&&P.test(e)});return function(t){return e.apply(this,arguments)}}(),O=function(){var e=d(function*(e){return(yield C(e))&&(yield x(e))});return function(t){return e.apply(this,arguments)}}(),k=function(){var e=d(function*(e){return(yield T(e))&&S.test(e)});return function(t){return e.apply(this,arguments)}}(),M=function(){var e=d(function*(e){return(yield k(e))&&(yield x(e))});return function(t){return e.apply(this,arguments)}}(),j=function(){var e=d(function*(e){return(yield T(e))&&!(yield k(e))&&!(yield C(e))&&A.test(e)});return function(t){return e.apply(this,arguments)}}(),I=e=>{const t=e.match(S);return t?t.groups.id:null}},1224:function(e,t,n){"use strict";n.r(t);n(185),n(96),n(284),n(240);var r=n(52),o=n.n(r),a=n(0),i=n.n(a),s=n(2),c=n.n(s),u=n(5),l=n.n(u),d=n(3),p=n(85),h=n.n(p),f=n(4),m=n(14),g=n(125),v=n(177),y=n(178),b=n(42),_=n(93),w=n.n(_),E=n(8),T=n(179);function R(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){R(a,r,o,i,s,"next",e)}function s(e){R(a,r,o,i,s,"throw",e)}i(void 0)})}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}console.log(`Hubs version: ${{NODE_ENV:"production",SHORTLINK_DOMAIN:"hub.link",RETICULUM_SERVER:"dev.reticulum.io",THUMBNAIL_SERVER:"nearspark-dev.reticulum.io",CORS_PROXY_SERVER:"cors-proxy-dev.reticulum.io",NON_CORS_PROXY_DOMAINS:"hubs.local,dev.reticulum.io"}.BUILD_VERSION||"?"}`),Object(d.c)([...h.a]),Object(g.a)();const A=new URLSearchParams(location.search);window.APP=new v.a;class x extends i.a.Component{constructor(e){var t;super(e),t=this,S(this,"storeUpdated",()=>this.forceUpdate()),S(this,"refetchAvatar",P(function*(){const e=yield Object(b.d)(t.props.avatarId);t.setState({avatar:e})})),S(this,"setAvatar",e=>{e&&e.preventDefault(),this.props.store.update({profile:{avatarId:this.state.avatar.avatar_id}})}),S(this,"handleCopyAvatar",function(){var e=P(function*(e){e.preventDefault();const{avatar:n}=t.state;t.setState({copyMessage:"copying..."}),yield Object(b.h)(n.avatar_id,n.name),t.setState({copyMessage:"Copied!"}),setTimeout(()=>t.setState({copyMessage:null}),2e3)});return function(t){return e.apply(this,arguments)}}()),this.state={copyMessage:null}}componentDidMount(){this.props.store.addEventListener("statechanged",this.storeUpdated),this.refetchAvatar()}componentWillUnmount(){this.props.store.removeEventListener("statechanged",this.storeUpdated)}render(){const{avatar:e,copyMessage:t}=this.state;if(!e)return i.a.createElement("div",{className:w.a.avatarLanding},i.a.createElement("div",{className:l()([w.a.box,w.a.darkened])},"Loading"));const n=this.props.store.state.profile.avatarId,r=e.avatar_id===n;return i.a.createElement("form",{onSubmit:this.setAvatar,className:w.a.avatarLanding},i.a.createElement("div",{className:l()([w.a.box,w.a.darkened])},i.a.createElement("label",{className:w.a.title},i.a.createElement("span",null,e.name)),i.a.createElement("div",{className:w.a.attributions},e.attributions&&e.attributions.creator&&i.a.createElement("span",null,`by ${e.attributions.creator}`)),i.a.createElement("div",{className:w.a.preview},e&&i.a.createElement(y.a,{avatarGltfUrl:e.gltf_url}),t?i.a.createElement("div",{className:w.a.copyTip},t):e&&"avatar_listing"===e.type&&e.allow_remixing&&i.a.createElement("a",{className:w.a.editAvatar,onClick:this.handleCopyAvatar,title:"Copy to my avatars"},i.a.createElement(E.a,{icon:T.faClone}))),r?i.a.createElement("span",{className:w.a.selectedMessage},i.a.createElement(d.a,{id:"avatar-landing.selected"})):i.a.createElement("button",{disabled:r,className:w.a.formSubmit,type:"submit"},i.a.createElement(d.a,{id:"avatar-landing.select"}))),i.a.createElement("img",{className:w.a.logo,src:f.a.image("logo")}))}}S(x,"propTypes",{avatarId:c.a.string,store:c.a.object,intl:c.a.object}),document.addEventListener("DOMContentLoaded",()=>{const e=A.get("avatar_id")||document.location.pathname.substring(1).split("/")[1];console.log(`Avatar ID: ${e}`),o.a.render(i.a.createElement(d.b,{locale:m.a,messages:m.b},i.a.createElement(x,{avatarId:e,store:window.APP.store})),document.getElementById("ui-root"))})},125:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(105);function o(){if("iOS"!==Object(r.detectOS)(navigator.userAgent))return;let e=0;document.addEventListener("touchmove",e=>{1!==e.scale&&e.preventDefault()}),document.addEventListener("touchend",t=>{const n=(new Date).getTime(),r=n-e<=300;e=n,r&&t.preventDefault()})}},13:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});const r=function(e,t){return new Promise(n=>{t.addEventListener(e,n,{once:!0})})},o=function(){return"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?Promise.resolve(null):r("DOMContentLoaded",window)}},14:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});var r=n(4),o=n(37);const a=(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).toLowerCase().split(/[_-]+/)[0],i=o[a]&&a||"en",s=o[i]||o.en;if(r.a.APP_CONFIG&&r.a.APP_CONFIG.translations&&r.a.APP_CONFIG.translations[i]){const e=r.a.APP_CONFIG.translations[i];for(const t in e)e.hasOwnProperty(t)&&e[t]&&(s[t]=e[t])}const c=Object.entries(s).map(([e,t])=>[e,t.replace(/%([\w-.]+)%/i,(e,t)=>s[t])]).reduce((e,t)=>(e[t[0]]=t[1],e),{})},15:function(e,t,n){"use strict";var r,o,a,i=n(36),s=n(7),c=n(168),u=n.n(c),l=n(48);function d(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}class p{constructor(e=THREE.DefaultLoadingManager){this.manager=e}load(e,t,n,r){const o=new THREE.Texture;return this.loadTextureAsync(o,e,n).then(t).catch(r),o}loadTextureAsync(e,t,n){var r,o=this;return(r=function*(){let r;void 0!==window.createImageBitmap?(r=new THREE.ImageBitmapLoader(o.manager),e.flipY=!1):r=new THREE.ImageLoader(o.manager),r.setCrossOrigin(o.crossOrigin),r.setPath(o.path);const a=o.manager.resolveURL(t);return e.image=yield function(e,t,n){return new Promise((r,o)=>e.load(t,r,n,o))}(r,t,n),THREE.Cache.remove(a),e.needsUpdate=!0,e.onUpdate=function(){e.image.close&&e.image.close(),delete e.image},e},function(){var e=this,t=arguments;return new Promise(function(n,o){var a=r.apply(e,t);function i(e){d(a,n,o,i,s,"next",e)}function s(e){d(a,n,o,i,s,"throw",e)}i(void 0)})})()}setCrossOrigin(e){return this.crossOrigin=e,this}setPath(e){return this.path=e,this}}a="anonymous",(o="crossOrigin")in(r=p)?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a;var h=n(150),f=n(12),m=n(138),g=n.n(m),v=n(151),y=n.n(v),b=n(124),_=n(169),w=n.n(_),E=n(170),T=n.n(E);THREE.BasisTextureLoader=function(e){THREE.Loader.call(this,e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerConfig={format:null,astcSupported:!1,etcSupported:!1,dxtSupported:!1,pvrtcSupported:!1,returnBuffer:!1}},THREE.BasisTextureLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.BasisTextureLoader,setTranscoderPath:function(e){return this.transcoderPath=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},detectSupport:function(e){var t=this.workerConfig;if(t.astcSupported=!!e.extensions.get("WEBGL_compressed_texture_astc"),t.etcSupported=!!e.extensions.get("WEBGL_compressed_texture_etc1"),t.dxtSupported=!!e.extensions.get("WEBGL_compressed_texture_s3tc"),t.pvrtcSupported=!!e.extensions.get("WEBGL_compressed_texture_pvrtc")||!!e.extensions.get("WEBKIT_WEBGL_compressed_texture_pvrtc"),t.astcSupported)t.format=THREE.BasisTextureLoader.BASIS_FORMAT.cTFASTC_4x4;else if(t.dxtSupported)t.format=THREE.BasisTextureLoader.BASIS_FORMAT.cTFBC3;else if(t.pvrtcSupported)t.format=THREE.BasisTextureLoader.BASIS_FORMAT.cTFPVRTC1_4_RGBA;else{if(!t.etcSupported)throw new Error("THREE.BasisTextureLoader: No suitable compressed texture format found.");t.format=THREE.BasisTextureLoader.BASIS_FORMAT.cTFETC1}return this},load:function(e,t,n,r){var o=new THREE.FileLoader(this.manager);this.ranDetect||(this.detectSupport(AFRAME.scenes[0].renderer),this.ranDetect=!0),o.setResponseType("arraybuffer"),o.load(e,e=>{this._createTexture(e).then(t).catch(r)},n,r)},_createTexture:function(e){var t,n,r=this._getWorker().then(r=>(t=r,n=this.workerNextTaskID++,new Promise((r,o)=>{t._callbacks[n]={resolve:r,reject:o},t._taskCosts[n]=e.byteLength,t._taskLoad+=t._taskCosts[n],t.postMessage({type:"transcode",id:n,buffer:e},[e])}))).then(e=>{var t,n=this.workerConfig,{width:r,height:o,mipmaps:a,format:i,hasAlpha:s,buffer:c}=e;switch(i){case THREE.BasisTextureLoader.BASIS_FORMAT.cTFASTC_4x4:t=new THREE.CompressedTexture(a,r,o,THREE.RGBA_ASTC_4x4_Format);break;case THREE.BasisTextureLoader.BASIS_FORMAT.cTFBC1:case THREE.BasisTextureLoader.BASIS_FORMAT.cTFBC3:t=new THREE.CompressedTexture(a,r,o,THREE.BasisTextureLoader.DXT_FORMAT_MAP[n.format],THREE.UnsignedByteType);break;case THREE.BasisTextureLoader.BASIS_FORMAT.cTFETC1:t=new THREE.CompressedTexture(a,r,o,THREE.RGB_ETC1_Format);break;case THREE.BasisTextureLoader.BASIS_FORMAT.cTFPVRTC1_4_RGB:t=new THREE.CompressedTexture(a,r,o,THREE.RGB_PVRTC_4BPPV1_Format);break;case THREE.BasisTextureLoader.BASIS_FORMAT.cTFPVRTC1_4_RGBA:t=new THREE.CompressedTexture(a,r,o,THREE.RGBA_PVRTC_4BPPV1_Format);break;default:throw new Error("THREE.BasisTextureLoader: No supported format available.")}return t.minFilter=1===a.length?THREE.LinearFilter:THREE.LinearMipmapLinearFilter,t.magFilter=THREE.LinearFilter,t.generateMipmaps=!1,t.needsUpdate=!0,t.image.hasAlpha=s,this.workerConfig.returnBuffer&&(t.image.data=c),t});return r.finally(()=>{t&&n&&(t._taskLoad-=t._taskCosts[n],delete t._callbacks[n],delete t._taskCosts[n])}),r},_initTranscoder:function(){if(!this.transcoderBinary){var e=new THREE.FileLoader(this.manager);e.setPath(this.transcoderPath),e.setResponseType("arraybuffer");var t=new Promise((t,n)=>{e.load(w.a,t,void 0,n)});this.transcoderPending=t.then(e=>{this.transcoderBinary=e})}return this.transcoderPending},_getWorker:function(){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){var e=new T.a;e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),e.onmessage=function(t){var n=t.data;switch(n.type){case"transcode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});return this.workerPool[this.workerPool.length-1]})},dispose:function(){for(var e=0;e<this.workerPool.length;e++)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),THREE.BasisTextureLoader.BASIS_FORMAT={cTFETC1:0,cTFETC2:1,cTFBC1:2,cTFBC3:3,cTFBC4:4,cTFBC5:5,cTFBC7_M6_OPAQUE_ONLY:6,cTFBC7_M5:7,cTFPVRTC1_4_RGB:8,cTFPVRTC1_4_RGBA:9,cTFASTC_4x4:10,cTFATC_RGB:11,cTFATC_RGBA_INTERPOLATED_ALPHA:12,cTFRGBA32:13,cTFRGB565:14,cTFBGR565:15,cTFRGBA4444:16},THREE.BasisTextureLoader.DXT_FORMAT={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779},THREE.BasisTextureLoader.DXT_FORMAT_MAP={},THREE.BasisTextureLoader.DXT_FORMAT_MAP[THREE.BasisTextureLoader.BASIS_FORMAT.cTFBC1]=THREE.BasisTextureLoader.DXT_FORMAT.COMPRESSED_RGB_S3TC_DXT1_EXT,THREE.BasisTextureLoader.DXT_FORMAT_MAP[THREE.BasisTextureLoader.BASIS_FORMAT.cTFBC3]=THREE.BasisTextureLoader.DXT_FORMAT.COMPRESSED_RGBA_S3TC_DXT5_EXT;var R=THREE.BasisTextureLoader;function P(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){P(a,r,o,i,s,"next",e)}function s(e){P(a,r,o,i,s,"throw",e)}i(void 0)})}}n.d(t,"j",function(){return M}),n.d(t,"m",function(){return j}),n.d(t,"o",function(){return I}),n.d(t,"g",function(){return L}),n.d(t,"b",function(){return F}),n.d(t,"e",function(){return D}),n.d(t,"l",function(){return H}),n.d(t,"k",function(){return U}),n.d(t,"a",function(){return N}),n.d(t,"n",function(){return $}),n.d(t,"i",function(){return W}),n.d(t,"d",function(){return V}),n.d(t,"h",function(){return z}),n.d(t,"c",function(){return Y}),n.d(t,"f",function(){return q});const A=g()();A.tlds(y.a);const x=Object(s.i)("/api/v1/media"),C=AFRAME.utils.device.isMobile(),O=AFRAME.utils.device.isMobile(),k=new Map,M=(e=!1)=>{const t=C||O;return e?t?"low_360":"high_360":t?"low":"high"},j=function(){var e=S(function*(e,t=null,n=1,r){const o=`${e}_${n}`;if(!r&&k.has(o))return k.get(o);const a=fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({media:{url:e,quality:t||M()},version:n})}).then(function(){var t=S(function*(t){if(!t.ok){const n=`Error resolving url "${e}":`;try{const e=yield t.text();throw new Error(n+" "+e)}catch(e){throw new Error(n+" "+t.statusText)}}return t.json()});return function(e){return t.apply(this,arguments)}}());return k.set(o,a),a});return function(t){return e.apply(this,arguments)}}(),I=(e,t)=>{const n=new FormData;return n.append("media",e),n.append("promotion_mode","with_token"),t&&n.append("desired_content_type",t),fetch((()=>Object(s.e)("/api/v1/media"))(),{method:"POST",body:n}).then(e=>e.json())};function L(e){return A.test(e)?e.indexOf("://")>=0?e:`https://${e}`:e}const F=(e,t,n,r=null,o=!1,a=!1,s=!0,c={},u=!0,l=null,d=null)=>{const p=AFRAME.scenes[0],h=document.createElement("a-entity");if(u)h.setAttribute("networked",{template:t});else{const e=document.importNode(document.body.querySelector(t).content,!0).firstElementChild.cloneNode(!0),n=e.attributes;for(let e=0;e<n.length;e++)h.setAttribute(n[e].name,n[e].value);for(;e.firstElementChild;)h.appendChild(e.firstElementChild)}const m=e instanceof File,g=function(e){const t=document.querySelectorAll("[media-loader]");let n=1;for(const r of t){const t=r.components["media-loader"];t.data&&t.data.src===e&&(n=Math.max(n,t.data.version))}return n}(e);h.setAttribute("media-loader",{fitToBox:a,resolve:o,animate:s,src:"string"==typeof e?L(e)||e:"",version:g,contentSubtype:r,fileIsOwned:!m,linkedEl:d,mediaOptions:c}),h.object3D.matrixNeedsUpdate=!0,(l||p).appendChild(h);const v=new Promise(function(t){m?function(e,t){const n=new FileReader;n.onload=function(e){const n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);const r=n.byteLength;let o=2;for(;o<r;){if(n.getUint16(o+2,!1)<=8)return t(-1);const e=n.getUint16(o,!1);if(o+=2,65505==e){if(1165519206!=n.getUint32(o+=2,!1))return t(-1);const e=18761==n.getUint16(o+=6,!1);o+=n.getUint32(o+4,e);const r=n.getUint16(o,e);o+=2;for(let a=0;a<r;a++)if(274==n.getUint16(o+12*a,e))return t(n.getUint16(o+12*a+8,e))}else{if(65280!=(65280&e))break;o+=n.getUint16(o,!1)}}return t(-1)},n.readAsArrayBuffer(e)}(e,e=>{t(e)}):t(1)});if(m){const t="video-camera"===r?"video/mp4":e.type||Object(f.c)(e.name);I(e,t).then(e=>{const t=new URL(Object(f.i)(e.origin));t.searchParams.set("token",e.meta.access_token),h.setAttribute("media-loader",{resolve:!1,src:t.href,fileId:e.file_id}),window.APP.store.update({uploadPromotionTokens:[{fileId:e.file_id,promotionToken:e.meta.promotion_token}]})}).catch(e=>{console.error("Media upload failed",e),h.setAttribute("media-loader",{src:"error"})})}else e instanceof MediaStream&&h.setAttribute("media-loader",{src:`hubs://clients/${NAF.clientId}/video`});return n&&h.addEventListener("media_resolved",({detail:e})=>{const t=Object(i.c)(n,e.contentType,e.src);p.emit("object_spawned",{objectType:t})}),{entity:h,orientation:v}},D=(e,t,n=null,r=!0,o=!1,a=null)=>{n||({src:n}=e.components["media-loader"].data);const{contentSubtype:s,fitToBox:c,mediaOptions:u}=e.components["media-loader"].data;return F(n,t,i.a.URL,s,!0,c,!1,u,r,a,o?e:null)};function H(e){const t=/\bskinning_vertex\b/,n=/\bgl_FragColor\b/,r=[],o=AFRAME.scenes[0].systems["hubs-systems"].batchManagerSystem;return e.traverse(a=>{a.material&&(a.material=Object(l.b)(a,i=>{if(i.hubs_InjectedCustomShaderChunks)return i;if(!h.a.includes(i.type))return i;if(a.el.classList.contains("ui")||a.el.classList.contains("hud")||a.el.getAttribute("text-button"))return i;o.batchingEnabled&&o.meshToEl.set(a,e.el);const s=i.clone();return s.onBeforeCompile=e=>{if(!t.test(e.vertexShader))return;e.uniforms.hubs_IsFrozen={value:!1},e.uniforms.hubs_EnableSweepingEffect={value:!1},e.uniforms.hubs_SweepParams={value:[0,0]},e.uniforms.hubs_InteractorOnePos={value:[0,0,0]},e.uniforms.hubs_InteractorTwoPos={value:[0,0,0]},e.uniforms.hubs_HighlightInteractorOne={value:!1},e.uniforms.hubs_HighlightInteractorTwo={value:!1},e.uniforms.hubs_Time={value:0};const o=e.vertexShader.split("\n"),a=o.findIndex(e=>t.test(e));o.splice(a+1,0,"\n        if (hubs_HighlightInteractorOne || hubs_HighlightInteractorTwo || hubs_IsFrozen) {\n          vec4 wt = modelMatrix * vec4(transformed, 1);\n\n          // Used in the fragment shader below.\n          hubs_WorldPosition = wt.xyz;\n        }\n        "),o.unshift("varying vec3 hubs_WorldPosition;"),o.unshift("uniform bool hubs_IsFrozen;"),o.unshift("uniform bool hubs_HighlightInteractorOne;"),o.unshift("uniform bool hubs_HighlightInteractorTwo;"),e.vertexShader=o.join("\n");const i=e.fragmentShader.split("\n"),s=i.findIndex(e=>n.test(e));i.splice(s+1,0,u.a),i.unshift("varying vec3 hubs_WorldPosition;"),i.unshift("uniform bool hubs_IsFrozen;"),i.unshift("uniform bool hubs_EnableSweepingEffect;"),i.unshift("uniform vec2 hubs_SweepParams;"),i.unshift("uniform bool hubs_HighlightInteractorOne;"),i.unshift("uniform vec3 hubs_InteractorOnePos;"),i.unshift("uniform bool hubs_HighlightInteractorTwo;"),i.unshift("uniform vec3 hubs_InteractorTwoPos;"),i.unshift("uniform float hubs_Time;"),e.fragmentShader=i.join("\n"),r.push(e.uniforms)},s.needsUpdate=!0,s.hubs_InjectedCustomShaderChunks=!0,s}))}),r}function U(e){return window.APP.store.state.uploadPromotionTokens.find(t=>t.fileId===e)}const B=new THREE.Vector3;function N(e,t,n,r,o=!1,a=.75){const{entity:i,orientation:s}=F(t,"#interactable-media",void 0,n,!1),c=e.object3D.position;i.object3D.position.set(c.x,c.y,c.z),i.object3D.rotation.copy(e.object3D.rotation),o&&i.object3D.rotateY(Math.PI);const u=r%6+3;B.set(Math.cos(2*Math.PI*(u/6))*a,Math.sin(2*Math.PI*(u/6))*a,.001*u-.05),e.object3D.localToWorld(B),i.object3D.visible=!1;const l=()=>{i.object3D.visible=!0,i.setAttribute("animation__photo_pos",{property:"position",dur:800,from:{x:c.x,y:c.y,z:c.z},to:{x:B.x,y:B.y,z:B.z},easing:"easeOutElastic"})};let d=null;if(n.startsWith("photo"))i.addEventListener("image-loaded",l,{once:!0}),d="photo";else{if(!n.startsWith("video"))return void console.error("invalid type "+n);i.addEventListener("video-loaded",l,{once:!0}),d="video"}return i.object3D.matrixNeedsUpdate=!0,i.addEventListener("media_resolved",()=>{e.emit(`${d}_taken`,i.components["media-loader"].data.src)},{once:!0}),{entity:i,orientation:s}}const $=(new p).setCrossOrigin("anonymous");function W(e,t){return G.apply(this,arguments)}function G(){return(G=S(function*(e,t){let n;if(t){const r=new Image;r.crossOrigin="anonymous";const o=new Promise(e=>r.addEventListener("load",e,{once:!0}));r.src=e,yield o;const a=document.createElement("canvas");a.width=r.width,a.height=r.height;const i=a.getContext("2d");i.drawImage(r,0,0),yield t(i,r.width,r.height),n=new THREE.CanvasTexture(a)}else{n=new THREE.Texture;try{yield $.loadTextureAsync(n,e)}catch(t){throw new Error(`'${e}' could not be fetched (Error code: ${t.status}; Response: ${t.statusText})`)}}return n.encoding=THREE.sRGBEncoding,n.anisotropy=4,n})).apply(this,arguments)}const V=new R;function z(e){return new Promise((t,n)=>{V.load(e,function(e){e.encoding=THREE.sRGBEncoding,e.onUpdate=function(){e.mipmaps.length=0},t(e)},void 0,function(t){console.error(t),n(new Error(`'${e}' could not be fetched (Error: ${t}`))})})}function Y(e,t,n){const r=function(){const t={};return function(n){const r=n.animatables[0].target;r.x=Math.max(Number.MIN_VALUE,r.x),r.y=Math.max(Number.MIN_VALUE,r.y),r.z=Math.max(Number.MIN_VALUE,r.z),r.x===t.x&&r.y===t.y&&r.z===t.z||(t.x=r.x,t.y=r.y,t.z=r.z,e.scale.set(r.x,r.y,r.z),e.matrixNeedsUpdate=!0)}}(),o={duration:400,easing:"easeOutElastic",elasticity:400,loop:0,round:!1,x:e.scale.x,y:e.scale.y,z:e.scale.z,targets:[t],update:e=>r(e),complete:e=>{r(e),n&&n()}};return e.scale.copy(t),e.matrixNeedsUpdate=!0,Object(b.default)(o)}function q(){const e=document.querySelector("#media-mirror-target");if(e.firstChild)return e.firstChild.setAttribute("animation__remove",{property:"scale",dur:200,to:{x:.01,y:.01,z:.01},easing:"easeInQuad"}),new Promise(t=>{e.firstChild.addEventListener("animationcomplete",()=>{e.removeChild(e.firstChild),e.parentEl.object3D.visible=!1,t()})})}},150:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(48),o=n(56);const a=[],i=[],s=["MeshStandardMaterial","MeshBasicMaterial","MobileStandardMaterial"];AFRAME.registerComponent("hoverable-visuals",{schema:{enableSweepingEffect:{type:"boolean",default:!0}},init(){this.uniforms=null,this.geometryRadius=0,this.sweepParams=[0,0]},remove(){this.uniforms=null,this.boundingBox=null;const e=this.el.sceneEl.systems["hubs-systems"].batchManagerSystem;this.el.object3D.traverse(t=>{t.material&&Object(r.a)(t,n=>{!s.includes(n.type)||t.el.classList.contains("ui")||t.el.classList.contains("hud")||t.el.getAttribute("text-button")||e.batchingEnabled&&e.meshToEl.delete(t)})});const t=AFRAME.utils.device.isMobile(),n=AFRAME.utils.device.isMobileVR();this.isTouchscreen=t&&!n},tick(e){if(!this.uniforms||!this.uniforms.length)return;const t=this.el.sceneEl.is("frozen"),n=Object(o.d)(this.el),r=this.el.sceneEl.systems["hubs-systems"].cursorTogglingSystem;let s,c;const u=this.el.sceneEl.systems.interaction;if(u.ready){if(u.state.leftHand.hovered!==this.el||u.state.leftHand.held||(s=u.options.leftHand.entity.object3D),u.state.leftRemote.hovered!==this.el||u.state.leftRemote.held||r.leftToggledOff||(s=u.options.leftRemote.entity.object3D),u.state.rightRemote.hovered!==this.el||u.state.rightRemote.held||r.rightToggledOff||(c=u.options.rightRemote.entity.object3D),u.state.rightHand.hovered!==this.el||u.state.rightHand.held||(c=u.options.rightHand.entity.object3D),s&&s.matrixWorld.toArray(a),c&&c.matrixWorld.toArray(i),s||c||t){const e=this.el.object3D.matrixWorld.elements[13],t=this.el.object3D.matrixWorld.elements[4],n=this.el.object3D.matrixWorld.elements[5],r=this.el.object3D.matrixWorld.elements[6],o=Math.sqrt(t*t+n*n+r*r)*this.geometryRadius;this.sweepParams[0]=e-o,this.sweepParams[1]=e+o}for(let r=0,o=this.uniforms.length;r<o;r++){const o=this.uniforms[r];o.hubs_EnableSweepingEffect.value=this.data.enableSweepingEffect&&n,o.hubs_IsFrozen.value=t,o.hubs_SweepParams.value=this.sweepParams,o.hubs_HighlightInteractorOne.value=!!s&&n&&!this.isTouchscreen,o.hubs_InteractorOnePos.value[0]=a[12],o.hubs_InteractorOnePos.value[1]=a[13],o.hubs_InteractorOnePos.value[2]=a[14],o.hubs_HighlightInteractorTwo.value=!!c&&n&&!this.isTouchscreen,o.hubs_InteractorTwoPos.value[0]=i[12],o.hubs_InteractorTwoPos.value[1]=i[13],o.hubs_InteractorTwoPos.value[2]=i[14],(s||c||t)&&(o.hubs_Time.value=e)}}}})},157:function(e,t){},158:function(e,t){},159:function(e,t){},16:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,o,a,i,s){let c={};const u=(e.location.state&&e.location.state.__historyLength||0)+(t?0:1);(n||i||s)&&(delete(c=e.location.state?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},e.location.state):{}).__duplicate,n&&(c[n]=o,c.key=n,c.value=o,c.detail=a));const l=void 0!==i?i:"/"===e.location.pathname?"":e.location.pathname,d=void 0!==s?s:e.location.search,p=e.location.state&&e.location.state.__duplicate,h=t||p?e.replace:e.push;c.__historyLength=u,h({pathname:l,search:d,state:c})}function a(e,t,n,r){o(e,!1,t,n,r)}function i(e,t,n,r){o(e,!0,t,n,r)}function s(e,t,n){o(e,!1,null,null,null,t,n)}function c(e){o(e,!1)}function u(e,t){if(!e.location.state||void 0===e.location.state.__historyLength)return;const n=e.location.state.__historyLength;return 0!==n?new Promise(r=>{const o=e.listen(()=>{o(),e.push({pathname:e.location.pathname,search:e.location.search,state:{__historyLength:0,__duplicate:!0}}),t&&e.go(-2),r()});e.go(-n)}):void 0}function l(e){u(e,!0)}function d(e){return`/${e.pathname.split("/").slice(2).join("/")}`}function p(e,t){return`/${e.pathname.split("/")[1]}${t}`}n.d(t,"e",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p})},160:function(e,t){},166:function(e,t){},167:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(48),o=n(171),a=n.n(o),i=n(172),s=n.n(i),c=n(173),u=n.n(c),l=n(174),d=n.n(l),p=n(175),h=n.n(p),f=n(176),m=n.n(f);function g(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function v(){return y.apply(this,arguments)}function y(){var e;return e=function*(){const e=[a.a,s.a,u.a,d.a,h.a,m.a],t=yield new Promise((t,n)=>(new THREE.CubeTextureLoader).load(e,t,void 0,n));return t.format=THREE.RGBFormat,t},(y=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){g(a,r,o,i,s,"next",e)}function s(e){g(a,r,o,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}AFRAME.registerComponent("environment-map",{init(){this.environmentMap=null,this.updateEnvironmentMap=this.updateEnvironmentMap.bind(this)},updateEnvironmentMap(e){this.environmentMap=e,this.applyEnvironmentMap(this.el.object3D)},applyEnvironmentMap(e){e.traverse(e=>{Object(r.a)(e,e=>{e.isMeshStandardMaterial&&(e.envMap=this.environmentMap,e.needsUpdate=!0)})})}})},168:function(e,t){e.exports="if (hubs_HighlightInteractorOne || hubs_HighlightInteractorTwo || hubs_IsFrozen) {\r\n  float ratio = 0.0;\r\n  float size = hubs_SweepParams.t - hubs_SweepParams.s;\r\n\r\n  if (hubs_EnableSweepingEffect) {\r\n    float line = mod(hubs_Time / 500.0 * size, size * 3.0) + hubs_SweepParams.s - size / 3.0;\r\n\r\n    if (hubs_WorldPosition.y < line) {\r\n      // Highlight with a sweeping gradient.\r\n      ratio = max(0.0, 1.0 - (line - hubs_WorldPosition.y) / (size * 1.5));\r\n    }\r\n  }\r\n\r\n  // Highlight with a gradient falling off with distance.\r\n  float pulse = 1.0 / (size + 0.2) * 8.0 + 1.0 / (size + 0.3) * 3.0 * (sin(hubs_Time / 1000.0) + 1.0);\r\n\r\n  if (hubs_HighlightInteractorOne) {\r\n    float dist1 = distance(hubs_WorldPosition, hubs_InteractorOnePos);\r\n    ratio += -min(1.0, pow(dist1 * pulse, 3.0)) + 1.0;\r\n  } \r\n\r\n  if (hubs_HighlightInteractorTwo) {\r\n    float dist2 = distance(hubs_WorldPosition, hubs_InteractorTwoPos);\r\n    ratio += -min(1.0, pow(dist2 * pulse, 3.0)) + 1.0;\r\n  }\r\n\r\n  ratio = min(1.0, ratio);\r\n\r\n  // Gamma corrected highlight color\r\n  vec3 highlightColor = vec3(0.184, 0.499, 0.933);\r\n\r\n  gl_FragColor.rgb = (gl_FragColor.rgb * (1.0 - ratio)) + (highlightColor * ratio);\r\n}\r\n"},169:function(e,t,n){e.exports=n.p+"assets/wasm/basis_transcoder-47fe610404bbcccd872b6ced44635d10.wasm"},170:function(e,t,n){e.exports=function(){return n(163)('!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/hubs",r(r.s=1)}([function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],l=!1,f=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=u(p);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new h(t,e)),1!==c.length||l||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){(function(e,n){var o,i,a,u,s=(o="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var i,a=void 0!==(t=t||{})?t:{},u={};for(i in a)a.hasOwnProperty(i)&&(u[i]=a[i]);var s,c,l=[],f=!1,p=!1;f="object"==typeof window,p="function"==typeof importScripts,s="object"==typeof e&&"object"==typeof e.versions&&"string"==typeof e.versions.node&&!f&&!p,c=!f&&!s&&!p;var d,h,y,v,m="";s?(m=n+"/",d=function(t,e){var n;return y||(y=r(2)),v||(v=r(3)),t=v.normalize(t),n=y.readFileSync(t),e?n:n.toString()},h=function(t){var e=d(t,!0);return e.buffer||(e=new Uint8Array(e)),P(e.buffer),e},e.argv.length>1&&e.argv[1].replace(/\\\\/g,"/"),l=e.argv.slice(2),e.on("uncaughtException",function(t){if(!(t instanceof function(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}))throw t}),e.on("unhandledRejection",xe),a.inspect=function(){return"[Emscripten Module object]"}):c?("undefined"!=typeof read&&(d=function(t){return read(t)}),h=function(t){var e;return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(P("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof scriptArgs?l=scriptArgs:void 0!==arguments&&(l=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(f||p)&&(p?m=self.location.href:document.currentScript&&(m=document.currentScript.src),o&&(m=o),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",d=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},p&&(h=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}));var g=a.print||console.log.bind(console),b=a.printErr||console.warn.bind(console);for(i in u)u.hasOwnProperty(i)&&(a[i]=u[i]);u=null,a.arguments&&(l=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;var w,T,C={"f64-rem":function(t,e){return t%e},debugger:function(){}};new Array(0),a.wasmBinary&&(w=a.wasmBinary),a.noExitRuntime&&a.noExitRuntime,"object"!=typeof WebAssembly&&b("no native wasm support detected");var $=!1;function P(t,e){t||xe("Assertion failed: "+e)}var _,A,E,F,S,O,j,W,k,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function I(t,e,r){for(var n=e+r,o=e;t[o]&&!(o>=n);)++o;if(o-e>16&&t.subarray&&x)return x.decode(t.subarray(e,o));for(var i="";e<o;){var a=t[e++];if(128&a){var u=63&t[e++];if(192!=(224&a)){var s=63&t[e++];if((a=224==(240&a)?(15&a)<<12|u<<6|s:(7&a)<<18|u<<12|s<<6|63&t[e++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}function R(t,e){return t?I(E,t,e):""}function D(t,e){return t%e>0&&(t+=e-t%e),t}function U(t){_=t,a.HEAP8=A=new Int8Array(t),a.HEAP16=F=new Int16Array(t),a.HEAP32=O=new Int32Array(t),a.HEAPU8=E=new Uint8Array(t),a.HEAPU16=S=new Uint16Array(t),a.HEAPU32=j=new Uint32Array(t),a.HEAPF32=W=new Float32Array(t),a.HEAPF64=k=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var B=a.TOTAL_MEMORY||16777216;function M(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?a.dynCall_v(r):a.dynCall_vi(r,e.arg):r(void 0===e.arg?null:e.arg)}else e()}}(T=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:B/65536}))&&(_=T.buffer),B=_.byteLength,U(_),O[59864]=5482368;var L=[],N=[],H=[],z=[],V=0,q=null,G=null;a.preloadedImages={},a.preloadedAudios={};var Z="data:application/octet-stream;base64,";function X(t){return String.prototype.startsWith?t.startsWith(Z):0===t.indexOf(Z)}var J,Y="basis_transcoder.wasm";function K(){try{if(w)return new Uint8Array(w);if(h)return h(Y);throw"both async and sync fetching of the wasm failed"}catch(t){xe(t)}}function Q(t){var e={env:t,wasi_unstable:t,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:C};function r(t,e){var r=t.exports;a.asm=r,function(t){if(V--,a.monitorRunDependencies&&a.monitorRunDependencies(V),0==V&&(null!==q&&(clearInterval(q),q=null),G)){var e=G;G=null,e()}}()}function n(t){r(t.instance)}function o(t){return(w||!f&&!p||"function"!=typeof fetch?new Promise(function(t,e){t(K())}):fetch(Y,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()}).catch(function(){return K()})).then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(t){b("failed to asynchronously prepare wasm: "+t),xe(t)})}if(V++,a.monitorRunDependencies&&a.monitorRunDependencies(V),a.instantiateWasm)try{return a.instantiateWasm(e,r)}catch(t){return b("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(w||"function"!=typeof WebAssembly.instantiateStreaming||X(Y)||"function"!=typeof fetch)return o(n);fetch(Y,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(n,function(t){b("wasm streaming compile failed: "+t),b("falling back to ArrayBuffer instantiation"),o(n)})})}(),{}}X(Y)||(J=Y,Y=a.locateFile?a.locateFile(J,m):m+J),a.asm=function(t,e,r){return e.memory=T,e.table=new WebAssembly.Table({initial:342,maximum:342,element:"anyfunc"}),e.__memory_base=1024,e.__table_base=0,Q(e)},N.push({func:function(){We()}});var tt={},et={buffers:[null,[],[]],printChar:function(t,e){var r=et.buffers[t];0===e||10===e?((1===t?g:b)(I(r,0)),r.length=0):r.push(e)},varargs:0,get:function(t){return et.varargs+=4,O[et.varargs-4>>2]},getStr:function(){return R(et.get())},get64:function(){var t=et.get();return et.get(),t},getZero:function(){et.get()}};function rt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var nt=void 0;function ot(t){for(var e="",r=t;E[r];)e+=nt[E[r++]];return e}var it={},at={},ut={},st=48,ct=57;function lt(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=st&&e<=ct?"_"+t:t}function ft(t,e){return t=lt(t),new Function("body","return function "+t+\'() {\\n    "use strict";    return body.apply(this, arguments);\\n};\\n\')(e)}function pt(t,e){var r=ft(e,function(t){this.name=e,this.message=t;var r=new Error(t).stack;void 0!==r&&(this.stack=this.toString()+"\\n"+r.replace(/^Error(:[^\\n]*)?\\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var dt=void 0;function ht(t){throw new dt(t)}var yt=void 0;function vt(t){throw new yt(t)}function mt(t,e,r){function n(e){var n=r(e);n.length!==t.length&&vt("Mismatched type converter count");for(var o=0;o<t.length;++o)gt(t[o],n[o])}t.forEach(function(t){ut[t]=e});var o=new Array(e.length),i=[],a=0;e.forEach(function(t,e){at.hasOwnProperty(t)?o[e]=at[t]:(i.push(t),it.hasOwnProperty(t)||(it[t]=[]),it[t].push(function(){o[e]=at[t],++a===i.length&&n(o)}))}),0===i.length&&n(o)}function gt(t,e,r){if(r=r||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=e.name;if(t||ht(\'type "\'+n+\'" must have a positive integer typeid pointer\'),at.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;ht("Cannot register type \'"+n+"\' twice")}if(at[t]=e,delete ut[t],it.hasOwnProperty(t)){var o=it[t];delete it[t],o.forEach(function(t){t()})}}function bt(t){if(!(this instanceof Wt))return!1;if(!(t instanceof Wt))return!1;for(var e=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=t.$$.ptrType.registeredClass,o=t.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return e===n&&r===o}function wt(t){ht(t.$$.ptrType.registeredClass.name+" instance already deleted")}var Tt=!1;function Ct(t){}function $t(t){t.count.value-=1,0===t.count.value&&function(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}(t)}function Pt(t){return"undefined"==typeof FinalizationGroup?(Pt=function(t){return t},t):(Tt=new FinalizationGroup(function(t){for(var e=t.next();!e.done;e=t.next()){var r=e.value;r.ptr?$t(r):console.warn("object already deleted: "+r.ptr)}}),Ct=function(t){Tt.unregister(t.$$)},(Pt=function(t){return Tt.register(t,t.$$,t.$$),t})(t))}function _t(){if(this.$$.ptr||wt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=Pt(Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function At(){this.$$.ptr||wt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ht("Object already scheduled for deletion"),Ct(this),$t(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Et(){return!this.$$.ptr}var Ft=void 0,St=[];function Ot(){for(;St.length;){var t=St.pop();t.$$.deleteScheduled=!1,t.delete()}}function jt(){return this.$$.ptr||wt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ht("Object already scheduled for deletion"),St.push(this),1===St.length&&Ft&&Ft(Ot),this.$$.deleteScheduled=!0,this}function Wt(){}var kt={};function xt(t,e,r){if(void 0===t[e].overloadTable){var n=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||ht("Function \'"+r+"\' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}}function It(t,e,r){a.hasOwnProperty(t)?((void 0===r||void 0!==a[t].overloadTable&&void 0!==a[t].overloadTable[r])&&ht("Cannot register public name \'"+t+"\' twice"),xt(a,t,t),a.hasOwnProperty(r)&&ht("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),a[t].overloadTable[r]=e):(a[t]=e,void 0!==r&&(a[t].numArguments=r))}function Rt(t,e,r,n,o,i,a,u){this.name=t,this.constructor=e,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=u,this.pureVirtualFunctions=[]}function Dt(t,e,r){for(;e!==r;)e.upcast||ht("Expected null or instance of "+r.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function Ut(t,e){if(null===e)return this.isReference&&ht("null is not a valid "+this.name),0;e.$$||ht(\'Cannot pass "\'+he(e)+\'" as a \'+this.name),e.$$.ptr||ht("Cannot pass deleted object as a pointer of type "+this.name);var r=e.$$.ptrType.registeredClass;return Dt(e.$$.ptr,r,this.registeredClass)}function Bt(t,e){var r;if(null===e)return this.isReference&&ht("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,r),r):0;e.$$||ht(\'Cannot pass "\'+he(e)+\'" as a \'+this.name),e.$$.ptr||ht("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&ht("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);var n=e.$$.ptrType.registeredClass;if(r=Dt(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&ht("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:ht("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var o=e.clone();r=this.rawShare(r,de(function(){o.delete()})),null!==t&&t.push(this.rawDestructor,r)}break;default:ht("Unsupporting sharing policy")}return r}function Mt(t,e){if(null===e)return this.isReference&&ht("null is not a valid "+this.name),0;e.$$||ht(\'Cannot pass "\'+he(e)+\'" as a \'+this.name),e.$$.ptr||ht("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&ht("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name);var r=e.$$.ptrType.registeredClass;return Dt(e.$$.ptr,r,this.registeredClass)}function Lt(t){return this.fromWireType(j[t>>2])}function Nt(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t}function Ht(t){this.rawDestructor&&this.rawDestructor(t)}function zt(t){null!==t&&t.delete()}function Vt(){return Object.keys(Zt).length}function qt(){var t=[];for(var e in Zt)Zt.hasOwnProperty(e)&&t.push(Zt[e]);return t}function Gt(t){Ft=t,St.length&&Ft&&Ft(Ot)}var Zt={};function Xt(t,e){return e=function(t,e){for(void 0===e&&ht("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}(t,e),Zt[e]}function Jt(t,e){return e.ptrType&&e.ptr||vt("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&vt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Pt(Object.create(t,{$$:{value:e}}))}function Yt(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var r=Xt(this.registeredClass,e);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=e,r.$$.smartPtr=t,r.clone();var n=r.clone();return this.destructor(t),n}function o(){return this.isSmartPointer?Jt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):Jt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var i,a=this.registeredClass.getActualType(e),u=kt[a];if(!u)return o.call(this);i=this.isConst?u.constPointerType:u.pointerType;var s=function t(e,r,n){if(r===n)return e;if(void 0===n.baseClass)return null;var o=t(e,r,n.baseClass);return null===o?null:n.downcast(o)}(e,this.registeredClass,i.registeredClass);return null===s?o.call(this):this.isSmartPointer?Jt(i.registeredClass.instancePrototype,{ptrType:i,ptr:s,smartPtrType:this,smartPtr:t}):Jt(i.registeredClass.instancePrototype,{ptrType:i,ptr:s})}function Kt(t,e,r,n,o,i,a,u,s,c,l){this.name=t,this.registeredClass=e,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=u,this.rawConstructor=s,this.rawShare=c,this.rawDestructor=l,o||void 0!==e.baseClass?this.toWireType=Bt:n?(this.toWireType=Ut,this.destructorFunction=null):(this.toWireType=Mt,this.destructorFunction=null)}function Qt(t,e,r){a.hasOwnProperty(t)||vt("Replacing nonexistant public symbol"),void 0!==a[t].overloadTable&&void 0!==r?a[t].overloadTable[r]=e:(a[t]=e,a[t].argCount=r)}function te(t,e){var r;if(t=ot(t),void 0!==a["FUNCTION_TABLE_"+t])r=a["FUNCTION_TABLE_"+t][e];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[e];else{var n=a["dynCall_"+t];void 0===n&&void 0===(n=a["dynCall_"+t.replace(/f/g,"d")])&&ht("No dynCall invoker for signature: "+t),r=function(r){for(var n=[],o=1;o<t.length;++o)n.push("a"+o);var i="return function dynCall_"+t+"_"+e+"("+n.join(", ")+") {\\n";return i+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\\n",i+="};\\n",new Function("dynCall","rawFunction",i)(r,e)}(n)}return"function"!=typeof r&&ht("unknown function pointer with signature "+t+": "+e),r}var ee=void 0;function re(t){var e=Se(t),r=ot(e);return Oe(e),r}function ne(t,e){var r=[],n={};throw e.forEach(function t(e){n[e]||at[e]||(ut[e]?ut[e].forEach(t):(r.push(e),n[e]=!0))}),new ee(t+": "+r.map(re).join([", "]))}function oe(t,e){for(var r=[],n=0;n<t;n++)r.push(O[(e>>2)+n]);return r}function ie(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function ae(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var r=ft(t.name||"unknownFunctionName",function(){});r.prototype=t.prototype;var n=new r,o=t.apply(n,e);return o instanceof Object?o:n}function ue(t,e,r,n,o){var i=e.length;i<2&&ht("argTypes array size mismatch! Must at least get return value and \'this\' types!");for(var a=null!==e[1]&&null!==r,u=!1,s=1;s<e.length;++s)if(null!==e[s]&&void 0===e[s].destructorFunction){u=!0;break}var c="void"!==e[0].name,l="",f="";for(s=0;s<i-2;++s)l+=(0!==s?", ":"")+"arg"+s,f+=(0!==s?", ":"")+"arg"+s+"Wired";var p="return function "+lt(t)+"("+l+") {\\nif (arguments.length !== "+(i-2)+") {\\nthrowBindingError(\'function "+t+" called with \' + arguments.length + \' arguments, expected "+(i-2)+" args!\');\\n}\\n";u&&(p+="var destructors = [];\\n");var d=u?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],y=[ht,n,o,ie,e[0],e[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\\n"),s=0;s<i-2;++s)p+="var arg"+s+"Wired = argType"+s+".toWireType("+d+", arg"+s+"); // "+e[s+2].name+"\\n",h.push("argType"+s),y.push(e[s+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\\n",u)p+="runDestructors(destructors);\\n";else for(s=a?1:2;s<e.length;++s){var v=1===s?"thisWired":"arg"+(s-2)+"Wired";null!==e[s].destructorFunction&&(p+=v+"_dtor("+v+"); // "+e[s].name+"\\n",h.push(v+"_dtor"),y.push(e[s].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\\nreturn ret;\\n"),p+="}\\n",h.push(p),ae(Function,h).apply(null,y)}var se=[],ce=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function le(t){t>4&&0==--ce[t].refcount&&(ce[t]=void 0,se.push(t))}function fe(){for(var t=0,e=5;e<ce.length;++e)void 0!==ce[e]&&++t;return t}function pe(){for(var t=5;t<ce.length;++t)if(void 0!==ce[t])return ce[t];return null}function de(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=se.length?se.pop():ce.length;return ce[e]={refcount:1,value:t},e}}function he(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function ye(t,e){switch(e){case 2:return function(t){return this.fromWireType(W[t>>2])};case 3:return function(t){return this.fromWireType(k[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function ve(t,e,r){switch(e){case 0:return r?function(t){return A[t]}:function(t){return E[t]};case 1:return r?function(t){return F[t>>1]}:function(t){return S[t>>1]};case 2:return r?function(t){return O[t>>2]}:function(t){return j[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function me(t){return t||ht("Cannot use deleted val. handle = "+t),ce[t].value}function ge(t,e){var r=at[t];return void 0===r&&ht(e+" has unknown type "+re(t)),r}var be={};function we(t){var e=be[t];return void 0===e?ot(t):e}var Te=[];function Ce(){return"object"==typeof globalThis?globalThis:Function("return this")()}var $e={};function Pe(){return A.length}!function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);nt=t}(),dt=a.BindingError=pt(Error,"BindingError"),yt=a.InternalError=pt(Error,"InternalError"),Wt.prototype.isAliasOf=bt,Wt.prototype.clone=_t,Wt.prototype.delete=At,Wt.prototype.isDeleted=Et,Wt.prototype.deleteLater=jt,Kt.prototype.getPointee=Nt,Kt.prototype.destructor=Ht,Kt.prototype.argPackAdvance=8,Kt.prototype.readValueFromPointer=Lt,Kt.prototype.deleteObject=zt,Kt.prototype.fromWireType=Yt,a.getInheritedInstanceCount=Vt,a.getLiveInheritedInstances=qt,a.flushPendingDeletes=Ot,a.setDelayFunction=Gt,ee=a.UnboundTypeError=pt(Error,"UnboundTypeError"),a.count_emval_handles=fe,a.get_first_emval=pe;var _e={c:xe,A:function(t){},i:function(t){return je(t)},I:function(){throw $=!0,"Pure virtual function called!"},h:function(t,e,r){throw tt[t]={ptr:t,adjusted:[t],type:e,destructor:r,refcount:0,caught:!1,rethrown:!1},"uncaught_exception"in Fe?Fe.uncaught_exceptions++:Fe.uncaught_exceptions=1,t},z:function(){return Fe.uncaught_exceptions},m:function(t){return a.___errno_location&&(O[a.___errno_location()>>2]=t),t},y:function(t,e){et.varargs=e;try{return et.getStreamFromFD(),et.get(),et.get(),et.get(),et.get(),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||xe(t),-t.errno}},x:function(t,e){et.varargs=e;try{return et.getStreamFromFD(),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||xe(t),-t.errno}},w:function(){return function(t,e,r,n){try{for(var o=0,i=0;i<r;i++){for(var a=O[e+8*i>>2],u=O[e+(8*i+4)>>2],s=0;s<u;s++)et.printChar(t,E[a+s]);o+=u}return O[n>>2]=o,0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||xe(t),-t.errno}}.apply(null,arguments)},v:function(t,e,r,n,o){var i=rt(r);gt(t,{name:e=ot(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?n:o},argPackAdvance:8,readValueFromPointer:function(t){var n;if(1===r)n=A;else if(2===r)n=F;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+e);n=O}return this.fromWireType(n[t>>i])},destructorFunction:null})},N:function(t,e,r,n,o,i,a,u,s,c,l,f,p){l=ot(l),i=te(o,i),u&&(u=te(a,u)),c&&(c=te(s,c)),p=te(f,p);var d=lt(l);It(d,function(){ne("Cannot construct "+l+" due to unbound types",[n])}),mt([t,e,r],n?[n]:[],function(e){var r,o;e=e[0],o=n?(r=e.registeredClass).instancePrototype:Wt.prototype;var a=ft(d,function(){if(Object.getPrototypeOf(this)!==s)throw new dt("Use \'new\' to construct "+l);if(void 0===f.constructor_body)throw new dt(l+" has no accessible constructor");var t=f.constructor_body[arguments.length];if(void 0===t)throw new dt("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)}),s=Object.create(o,{constructor:{value:a}});a.prototype=s;var f=new Rt(l,a,s,p,r,i,u,c),h=new Kt(l,f,!0,!1,!1),y=new Kt(l+"*",f,!1,!1,!1),v=new Kt(l+" const*",f,!1,!0,!1);return kt[t]={pointerType:y,constPointerType:v},Qt(d,a),[h,y,v]})},M:function(t,e,r,n,o,i){var a=oe(e,r);o=te(n,o),mt([],[t],function(t){var r="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new dt("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class \'"+t.name+"\'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=function(){ne("Cannot construct "+t.name+" due to unbound types",a)},mt([],a,function(n){return t.registeredClass.constructor_body[e-1]=function(){arguments.length!==e-1&&ht(r+" called with "+arguments.length+" arguments, expected "+(e-1));var t=[],a=new Array(e);a[0]=i;for(var u=1;u<e;++u)a[u]=n[u].toWireType(t,arguments[u-1]);var s=o.apply(null,a);return ie(t),n[0].fromWireType(s)},[]}),[]})},g:function(t,e,r,n,o,i,a,u){var s=oe(r,n);e=ot(e),i=te(o,i),mt([],[t],function(t){var n=(t=t[0]).name+"."+e;function o(){ne("Cannot call "+n+" due to unbound types",s)}u&&t.registeredClass.pureVirtualFunctions.push(e);var c=t.registeredClass.instancePrototype,l=c[e];return void 0===l||void 0===l.overloadTable&&l.className!==t.name&&l.argCount===r-2?(o.argCount=r-2,o.className=t.name,c[e]=o):(xt(c,e,n),c[e].overloadTable[r-2]=o),mt([],s,function(o){var u=ue(n,o,t,i,a);return void 0===c[e].overloadTable?(u.argCount=r-2,c[e]=u):c[e].overloadTable[r-2]=u,[]}),[]})},L:function(t,e){gt(t,{name:e=ot(e),fromWireType:function(t){var e=ce[t].value;return le(t),e},toWireType:function(t,e){return de(e)},argPackAdvance:8,readValueFromPointer:Lt,destructorFunction:null})},u:function(t,e,r){var n=rt(r);gt(t,{name:e=ot(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError(\'Cannot convert "\'+he(e)+\'" to \'+this.name);return e},argPackAdvance:8,readValueFromPointer:ye(e,n),destructorFunction:null})},K:function(t,e,r,n,o,i){var a=oe(e,r);t=ot(t),o=te(n,o),It(t,function(){ne("Cannot call "+t+" due to unbound types",a)},e-1),mt([],a,function(r){var n=[r[0],null].concat(r.slice(1));return Qt(t,ue(t,n,null,o,i),e-1),[]})},f:function(t,e,r,n,o){e=ot(e),-1===o&&(o=4294967295);var i=rt(r),a=function(t){return t};if(0===n){var u=32-8*r;a=function(t){return t<<u>>>u}}var s=-1!=e.indexOf("unsigned");gt(t,{name:e,fromWireType:a,toWireType:function(t,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError(\'Cannot convert "\'+he(r)+\'" to \'+this.name);if(r<n||r>o)throw new TypeError(\'Passing a number "\'+he(r)+\'" from JS side to C/C++ side to an argument of type "\'+e+\'", which is outside the valid range [\'+n+", "+o+"]!");return s?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:ve(e,i,0!==n),destructorFunction:null})},e:function(t,e,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(t){var e=j,r=e[t>>=2],o=e[t+1];return new n(e.buffer,o,r)}gt(t,{name:r=ot(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},t:function(t,e){var r="std::string"===(e=ot(e));gt(t,{name:e,fromWireType:function(t){var e,n=j[t>>2];if(r){var o=E[t+4+n],i=0;0!=o&&(i=o,E[t+4+n]=0);for(var a=t+4,u=0;u<=n;++u){var s=t+4+u;if(0==E[s]){var c=R(a);void 0===e?e=c:(e+=String.fromCharCode(0),e+=c),a=s+1}}0!=i&&(E[t+4+n]=i)}else{var l=new Array(n);for(u=0;u<n;++u)l[u]=String.fromCharCode(E[t+4+u]);e=l.join("")}return Oe(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var n="string"==typeof e;n||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||ht("Cannot pass non-string to std::string");var o=(r&&n?function(){return function(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&t.charCodeAt(++r)),n<=127?++e:e+=n<=2047?2:n<=65535?3:4}return e}(e)}:function(){return e.length})(),i=je(4+o+1);if(j[i>>2]=o,r&&n)!function(t,e,r,n){if(!(n>0))return 0;for(var o=r+n-1,i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),a<=127){if(r>=o)break;e[r++]=a}else if(a<=2047){if(r+1>=o)break;e[r++]=192|a>>6,e[r++]=128|63&a}else if(a<=65535){if(r+2>=o)break;e[r++]=224|a>>12,e[r++]=128|a>>6&63,e[r++]=128|63&a}else{if(r+3>=o)break;e[r++]=240|a>>18,e[r++]=128|a>>12&63,e[r++]=128|a>>6&63,e[r++]=128|63&a}}e[r]=0}(e,E,i+4,o+1);else if(n)for(var a=0;a<o;++a){var u=e.charCodeAt(a);u>255&&(Oe(i),ht("String has UTF-16 code units that do not fit in 8 bits")),E[i+4+a]=u}else for(a=0;a<o;++a)E[i+4+a]=e[a];return null!==t&&t.push(Oe,i),i},argPackAdvance:8,readValueFromPointer:Lt,destructorFunction:function(t){Oe(t)}})},J:function(t,e,r){var n,o;r=ot(r),2===e?(n=function(){return S},o=1):4===e&&(n=function(){return j},o=2),gt(t,{name:r,fromWireType:function(t){for(var e=n(),r=j[t>>2],i=new Array(r),a=t+4>>o,u=0;u<r;++u)i[u]=String.fromCharCode(e[a+u]);return Oe(t),i.join("")},toWireType:function(t,r){var i=n(),a=r.length,u=je(4+a*e);j[u>>2]=a;for(var s=u+4>>o,c=0;c<a;++c)i[s+c]=r.charCodeAt(c);return null!==t&&t.push(Oe,u),u},argPackAdvance:8,readValueFromPointer:Lt,destructorFunction:function(t){Oe(t)}})},H:function(t,e){gt(t,{isVoid:!0,name:e=ot(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},s:function(t,e,r){t=me(t),e=ge(e,"emval::as");var n=[],o=de(n);return O[r>>2]=o,e.toWireType(n,t)},r:function(t,e,r,n){(t=Te[t])(e=me(e),r=we(r),null,n)},b:le,G:function(t){return 0===t?de(Ce()):(t=we(t),de(Ce()[t]))},q:function(t,e){for(var r=function(t,e,r){for(var n=new Array(t),o=0;o<t;++o)n[o]=ge(O[(e>>2)+o],"parameter "+o);return n}(t,e),n=r[0],o=n.name+"_$"+r.slice(1).map(function(t){return t.name}).join("_")+"$",i=["retType"],a=[n],u="",s=0;s<t-1;++s)u+=(0!==s?", ":"")+"arg"+s,i.push("argType"+s),a.push(r[1+s]);var c="return function "+lt("methodCaller_"+o)+"(handle, name, destructors, args) {\\n",l=0;for(s=0;s<t-1;++s)c+="    var arg"+s+" = argType"+s+".readValueFromPointer(args"+(l?"+"+l:"")+");\\n",l+=r[s+1].argPackAdvance;for(c+="    var rv = handle[name]("+u+");\\n",s=0;s<t-1;++s)r[s+1].deleteObject&&(c+="    argType"+s+".deleteObject(arg"+s+");\\n");n.isVoid||(c+="    return retType.toWireType(destructors, rv);\\n"),c+="};\\n",i.push(c);var f,p,d=ae(Function,i).apply(null,a);return f=d,p=Te.length,Te.push(f),p},p:function(t){return t=we(t),de(a[t])},k:function(t,e){return de((t=me(t))[e=me(e)])},l:function(t){t>4&&(ce[t].refcount+=1)},o:function(t,e,r,n){t=me(t);var o=$e[e];return o||(o=function(t){for(var e="",r=0;r<t;++r)e+=(0!==r?", ":"")+"arg"+r;var n="return function emval_allocator_"+t+"(constructor, argTypes, args) {\\n";for(r=0;r<t;++r)n+="var argType"+r+" = requireRegisteredType(Module[\'HEAP32\'][(argTypes >> 2) + "+r+\'], "parameter \'+r+\'");\\nvar arg\'+r+" = argType"+r+".readValueFromPointer(args);\\nargs += argType"+r+"[\'argPackAdvance\'];\\n";return n+="var obj = new constructor("+e+");\\nreturn __emval_register(obj);\\n}\\n",new Function("requireRegisteredType","Module","__emval_register",n)(ge,a,de)}(e),$e[e]=o),o(t,r,n)},j:function(t){return de(we(t))},n:function(t){ie(ce[t].value),le(t)},d:function(){a.abort()},F:Pe,E:function(t,e,r){E.set(E.subarray(e,e+r),t)},D:function(t){var e=Pe();if(t>2147418112)return!1;for(var r=Math.max(e,16777216);r<t;)r=r<=536870912?D(2*r,65536):Math.min(D((3*r+2147483648)/4,65536),2147418112);return!!function(t){try{return T.grow(t-_.byteLength+65535>>16),U(T.buffer),1}catch(t){}}(r)},C:function(){xe("trap!")},B:function(t){xe("OOM")},a:239456},Ae=a.asm({},_e,_);a.asm=Ae;var Ee,Fe=a.__ZSt18uncaught_exceptionv=function(){return a.asm.O.apply(null,arguments)},Se=(a.___embind_register_native_and_builtin_types=function(){return a.asm.P.apply(null,arguments)},a.___errno_location=function(){return a.asm.Q.apply(null,arguments)},a.___getTypeName=function(){return a.asm.R.apply(null,arguments)}),Oe=a._free=function(){return a.asm.S.apply(null,arguments)},je=a._malloc=function(){return a.asm.T.apply(null,arguments)},We=a.globalCtors=function(){return a.asm.ha.apply(null,arguments)};function ke(t){function e(){Ee||(Ee=!0,$||(M(N),M(H),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)t=a.postRun.shift(),z.unshift(t);var t;M(z)}()))}t=t||l,V>0||(function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)t=a.preRun.shift(),L.unshift(t);var t;M(L)}(),V>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e()))}function xe(t){throw a.onAbort&&a.onAbort(t),g(t+=""),b(t),$=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}if(a.dynCall_ii=function(){return a.asm.U.apply(null,arguments)},a.dynCall_iidiiii=function(){return a.asm.V.apply(null,arguments)},a.dynCall_iii=function(){return a.asm.W.apply(null,arguments)},a.dynCall_iiii=function(){return a.asm.X.apply(null,arguments)},a.dynCall_iiiii=function(){return a.asm.Y.apply(null,arguments)},a.dynCall_iiiiii=function(){return a.asm.Z.apply(null,arguments)},a.dynCall_iiiiiiii=function(){return a.asm._.apply(null,arguments)},a.dynCall_iiiiiiiii=function(){return a.asm.$.apply(null,arguments)},a.dynCall_jiji=function(){return a.asm.aa.apply(null,arguments)},a.dynCall_v=function(){return a.asm.ba.apply(null,arguments)},a.dynCall_vi=function(){return a.asm.ca.apply(null,arguments)},a.dynCall_vii=function(){return a.asm.da.apply(null,arguments)},a.dynCall_viiii=function(){return a.asm.ea.apply(null,arguments)},a.dynCall_viiiii=function(){return a.asm.fa.apply(null,arguments)},a.dynCall_viiiiii=function(){return a.asm.ga.apply(null,arguments)},a.asm=Ae,a.then=function(t){if(Ee)t(a);else{var e=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){e&&e(),t(a)}}return a},G=function t(){Ee||ke(),Ee||(G=t)},a.run=ke,a.abort=xe,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return ke(),t});t.exports=s,onmessage=function(t){var e,r,n=t.data;switch(n.type){case"init":i=n.config,e=n.transcoderBinary,a=new Promise(t=>{s(r={wasmBinary:e,onRuntimeInitialized:t})}).then(()=>{var{BasisFile:t,initializeBasis:e}=r;u=t,e()});break;case"transcode":a.then(()=>{try{for(var{width:t,height:e,hasAlpha:r,mipmaps:o,format:a}=function(t){var e=new u(new Uint8Array(t)),r=e.getImageWidth(0,0),n=e.getImageHeight(0,0),o=e.getNumLevels(0),a=e.getHasAlpha();function s(){e.close(),e.delete()}if(!a)switch(i.format){case 9:i.format=8}if(!r||!n||!o)throw s(),new Error("THREE.BasisTextureLoader:  Invalid .basis file");if(!e.startTranscoding())throw s(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");for(var c=[],l=0;l<o;l++){var f=e.getImageWidth(0,l),p=e.getImageHeight(0,l),d=new Uint8Array(e.getImageTranscodedSizeInBytes(0,l,i.format)),h=e.transcodeImage(d,0,l,i.format,a,0);if(!h)throw s(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");c.push({data:d,width:f,height:p})}return s(),{width:r,height:n,hasAlpha:a,mipmaps:c,format:i.format}}(n.buffer),s=[],c=0;c<o.length;++c)s.push(o[c].data.buffer);i.returnBuffer&&s.push(n.buffer),self.postMessage({type:"transcode",id:n.id,width:t,height:e,hasAlpha:r,mipmaps:o,format:a,buffer:i.returnBuffer?n.buffer:null},s)}catch(t){console.error(t),self.postMessage({type:"error",id:n.id,error:t.message})}})}}}).call(this,r(0),"/")},function(t,e){},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,o=function(t){return n.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,n="/"===a.charAt(0))}return(n?"/":"")+(e=r(i(e.split("/"),function(t){return!!t}),!n).join("/"))||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===a(t,-1);return(t=r(i(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}var c=[];for(s=u;s<o.length;s++)c.push("..");return(c=c.concat(i.slice(u))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(0))}]);\n//# sourceMappingURL=basis_transcoder.worker-95a71f078806021bd3c4.js.map',"/assets/js/basis_transcoder.worker-95a71f078806021bd3c4.js")}},171:function(e,t,n){e.exports=n.p+"assets/images/cubemap/posx-d235fb97df77b607be04b84125f40e7c.jpg"},172:function(e,t,n){e.exports=n.p+"assets/images/cubemap/negx-35034574e114423babdea92b6a2eb97a.jpg"},173:function(e,t,n){e.exports=n.p+"assets/images/cubemap/posy-d0c4e1e7979d75923d4d8b49c191bc6e.jpg"},174:function(e,t,n){e.exports=n.p+"assets/images/cubemap/negy-35808d21d1d17ac1b84d3184e365093b.jpg"},175:function(e,t,n){e.exports=n.p+"assets/images/cubemap/posz-de29aa8396196e4b040cd5305e351dbe.jpg"},176:function(e,t,n){e.exports=n.p+"assets/images/cubemap/negz-d73d18a8b7994524dc39a6ea3fcf43fc.jpg"},177:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(50),o=n(115);class a{constructor(){this.scene=null,this.quality="low",this.store=new r.b,this.mediaSearchStore=new o.b}setQuality(e){return this.quality!==e&&(this.quality=e,this.scene&&this.scene.dispatchEvent(new CustomEvent("quality-changed",{detail:e})),!0)}}},178:function(e,t,n){"use strict";var r=n(97),o=n.n(r),a=n(205),i=n.n(a),s=n(0),c=n.n(s),u=n(2),l=n.n(u),d=n(3),p=n(5),h=n.n(p),f=(n(437),n(167)),m=n(83),g=n(9),v=n(42),y=n(91),b=n(264),_=n.n(b);function w(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){w(a,r,o,i,s,"next",e)}function s(e){w(a,r,o,i,s,"throw",e)}i(void 0)})}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R={base_map:["map"],emissive_map:["emissiveMap"],normal_map:["normalMap"],orm_map:["aoMap","roughnessMap","metalnessMap"]},P=Object.keys(R);function S(e,t=!1,n=!0){const r=e.getContext("webgl2",{alpha:t,depth:!0,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"}),o=new THREE.WebGLRenderer({alpha:t,canvas:e,context:r,forceWebVR:!0});return o.gammaOutput=!0,o.gammaFactor=2.2,o.physicallyCorrectLights=!0,n&&o.setPixelRatio(window.devicePixelRatio),o}const A=e=>fetch(e).then(e=>e.blob()).then(y.a),x=new THREE.Euler(-30*THREE.Math.DEG2RAD,30*THREE.Math.DEG2RAD,0),C=1;function O(e,t,n,r=C){const o=Math.max(t.max.y-n.y,n.y-t.min.y),a=THREE.Math.degToRad(e.fov/2);e.position.set(0,0,(o/Math.tan(a)+t.max.z)*r),e.position.applyEuler(x),e.position.add(n),e.lookAt(n)}class k extends s.Component{constructor(e){var t;super(e),t=this,T(this,"componentDidMount",()=>{this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(55,this.canvas.clientWidth/this.canvas.clientHeight,.1,1e3),this.controls=new THREE.OrbitControls(this.camera,this.canvas),this.controls.enablePan=!1;const e=new THREE.DirectionalLight(16250607,1);e.position.set(0,10,10),this.scene.add(e),this.scene.add(new THREE.HemisphereLight(11658239,11658239,2.5)),this.loadId=0,this.camera.position.set(-.2,.5,.5),this.camera.matrixAutoUpdate=!0,this.controls.target.set(0,.45,0),this.controls.update(),this.props.avatarGltfUrl&&this.loadCurrentAvatarGltfUrl();const t=new THREE.Clock;this.snapshotCanvas=document.createElement("canvas"),this.snapshotCanvas.width=720,this.snapshotCanvas.height=1280,this.snapshotCamera=new THREE.PerspectiveCamera(55,.5625,.1,1e3),this.snapshotCamera.matrixAutoUpdate=!0,this.snapshotRenderer=S(this.snapshotCanvas,!0,!1),this.snapshotRenderer.setClearAlpha(0),this.previewRenderer=S(this.canvas),this.previewRenderer.setClearColor(15395562),this.previewRenderer.setAnimationLoop(()=>{const e=t.getDelta();this.mixer&&this.mixer.update(e),this.previewRenderer.render(this.scene,this.camera)}),window.addEventListener("resize",this.resize),this.resize()}),T(this,"resize",()=>{const e=this.canvas.parentElement.offsetWidth,t=this.canvas.parentElement.offsetHeight;this.previewRenderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix()}),T(this,"setAvatar",e=>{e&&(this.avatar=e,this.scene.add(e),this.resetCamera(),this.setState({error:null,loading:!1}))}),T(this,"resetCamera",(()=>{const e=new THREE.Box3,t=new THREE.Vector3;return()=>{e.setFromObject(this.avatar),e.getCenter(t),t.y=.6*(e.max.y-e.min.y)+e.min.y,O(this.camera,e,t),O(this.snapshotCamera,e,t,.7),this.controls.target.copy(t),this.controls.update()}})()),T(this,"componentWillUnmount",()=>{this.scene&&this.scene.traverse(g.f),this.previewRenderer&&(this.previewRenderer.dispose(),this.previewRenderer.context=null),this.snapshotRenderer&&(this.snapshotRenderer.dispose(),this.snapshotRenderer.context=null),this.controls&&(this.controls.dispose(),this.controls.domElement=null),Object.values(this.imageBitmaps).forEach(e=>Object(y.b)(e)),window.removeEventListener("resize",this.resize)}),T(this,"componentDidUpdate",function(){var e=E(function*(e){e.avatarGltfUrl!==t.props.avatarGltfUrl&&(t.avatar&&(t.scene.remove(t.avatar),t.avatar=null),t.props.avatarGltfUrl&&(t.setState({error:null,loading:!0}),yield t.loadCurrentAvatarGltfUrl())),t.applyMaps(e,t.props)});return function(t){return e.apply(this,arguments)}}()),T(this,"loadPreviewAvatar",function(){var e=E(function*(e){let n;try{const r="low"===window.APP.quality?"KHR_materials_unlit":"pbrMetallicRoughness";n=yield Object(m.a)(e,"model/gltf",r,null,v.c)}catch(e){return console.error("Failed to load avatar preview",e),void t.setState({loading:!1,error:!0})}if(t.previewMesh=Object(g.g)(n.scene,e=>e.isMesh&&e.material&&e.material.name===v.b||"Bot_Skinned"===e.name),!t.previewMesh)return console.error("Failed to find avatar preview mesh"),void t.setState({loading:!1,error:!0});const r=n.animations&&n.animations.find(({name:e})=>"idle_eyes"===e);if(r){t.mixer=new THREE.AnimationMixer(n.scene);const e=t.mixer.clipAction(r);e.enabled=!0,e.setLoop(THREE.LoopRepeat,1/0).play(),t.idleAnimationAction=e}const{material:o}=t.previewMesh;if(o){const e=e=>o[e]&&delete o[e].onUpdate&&o[e].image;t.originalMaps={base_map:R.base_map.map(e),emissive_map:R.emissive_map.map(e),normal_map:R.normal_map.map(e),orm_map:R.orm_map.map(e)},yield Promise.all([t.applyMaps({},t.props),Object(f.a)().then(e=>{t.previewMesh.material.envMap=e,t.previewMesh.material.needsUpdate=!0})])}else t.originalMaps={};return n});return function(t){return e.apply(this,arguments)}}()),T(this,"applyMapToPreview",(e,t)=>{this.imageBitmaps[e]&&Object(y.b)(this.imageBitmaps[e]),this.imageBitmaps[e]=t,R[e].forEach(e=>{const n=this.previewMesh.material[e];n.image=t,n.needsUpdate=!0})}),T(this,"revertMap",e=>{this.imageBitmaps[e]&&Object(y.b)(this.imageBitmaps[e]),delete this.imageBitmaps[e],this.originalMaps[e].forEach((t,n)=>{const r=this.previewMesh.material[R[e][n]];r.image=t,r.needsUpdate=!0})}),T(this,"snapshot",()=>new Promise(e=>{this.idleAnimationAction&&this.idleAnimationAction.stop(),this.snapshotRenderer.render(this.scene,this.snapshotCamera),this.snapshotCanvas.toBlob(t=>{this.idleAnimationAction&&this.idleAnimationAction.play(),e(t)})})),this.state={loading:!0,error:null},this.avatar=null,this.imageBitmaps={}}loadCurrentAvatarGltfUrl(){var e=this;return E(function*(){const t=++e.loadId,n=yield e.loadPreviewAvatar(e.props.avatarGltfUrl);t===e.loadId&&(n&&e.props.onGltfLoaded&&e.props.onGltfLoaded(n),e.setAvatar(n.scene))})()}applyMaps(e,t){return Promise.all(P.map(n=>{const r=this.applyMapToPreview.bind(this,n);if(e[n]!=t[n])return t[n]instanceof File?Object(y.a)(t[n]).then(r):t[n]?A(t[n]).then(r):this.revertMap(n)}))}render(){return c.a.createElement("div",{className:h()(_.a.preview,this.props.className)},!this.props.avatarGltfUrl||this.state.loading&&!this.state.error&&c.a.createElement("div",{className:"loader"},c.a.createElement("div",{className:"loader-center"})),this.props.avatarGltfUrl&&this.state.error&&!this.state.loading&&c.a.createElement("div",{className:"error"},c.a.createElement("img",{src:o.a,srcSet:i.a+" 2x",className:"error-icon"}),c.a.createElement(d.a,{id:"avatar-preview.loading-failed"})),c.a.createElement("canvas",{ref:e=>this.canvas=e}))}}T(k,"propTypes",{avatarGltfUrl:l.a.string,className:l.a.string,onGltfLoaded:l.a.func}),t.a=Object(d.d)(k,{withRef:!0})},18:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});const r=new URLSearchParams(location.search);function o(e){const t=r.get(e);return""===t||/1|on|true|yes/i.test(t)}function a(e){return r.get(e)}},183:function(e,t){},184:function(e,t){},185:function(e,t){/Oculus/.test(navigator.userAgent)||!navigator.xr||navigator.xr.requestDevice||(navigator.xr.requestDevice=()=>Promise.reject({message:"Hubs: requestDevice not supported."})),/Oculus/.test(navigator.userAgent)&&navigator.getVRDisplays()},205:function(e,t,n){e.exports=n.p+"assets/images/warning_icon@2x-706e4a4db33f9456bac320e956b4120d.png"},240:function(e,t,n){"use strict";var r=n(224),o=n.n(r),a=n(18);const i=new URLSearchParams(location.search),s=Object(a.a)("debug"),c=i.get("log_filter")||s&&"naf-janus-adapter:*";c&&o.a.enable(c)},264:function(e,t,n){e.exports={preview:"avatar-preview__preview__3UraQ"}},36:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c});const r={URL:1,FILE:2,CLIPBOARD:3,SPAWNER:4},o={URL_IMAGE:0,URL_VIDEO:1,URL_MODEL:2,URL_PDF:3,URL_AUDIO:4,FILE_IMAGE:8,FILE_VIDEO:9,FILE_MODEL:10,FILE_PDF:11,FILE_AUDIO:12,CLIPBOARD_IMAGE:16,CLIPBOARD_VIDEO:17,CLIPBOARD_MODEL:18,CLIPBOARD_PDF:19,CLIPBOARD_AUDIO:20,SPAWNER_IMAGE:24,SPAWNER_VIDEO:25,SPAWNER_MODEL:26,SPAWNER_PDF:27,SPAWNER_AUDIO:28,CAMERA:30,UNKNOWN:31};function a(e,t,n,o,a){return e===r.URL?t:e===r.FILE?n:e===r.CLIPBOARD?o:a}const i={"image/":[o.URL_IMAGE,o.FILE_IMAGE,o.CLIPBOARD_IMAGE,o.SPAWNER_IMAGE],"model/":[o.URL_MODEL,o.FILE_MODEL,o.CLIPBOARD_MODEL,o.SPAWNER_MODEL],"application/x-zip-compressed":[o.URL_MODEL,o.FILE_MODEL,o.CLIPBOARD_MODEL,o.SPAWNER_MODEL],"video/":[o.URL_VIDEO,o.FILE_VIDEO,o.CLIPBOARD_VIDEO,o.SPAWNER_VIDEO],"application/vnd.apple.mpegurl":[o.URL_VIDEO,o.FILE_VIDEO,o.CLIPBOARD_VIDEO,o.SPAWNER_VIDEO],"application/x-mpegurl":[o.URL_VIDEO,o.FILE_VIDEO,o.CLIPBOARD_VIDEO,o.SPAWNER_VIDEO],"audio/":[o.URL_AUDIO,o.FILE_AUDIO,o.CLIPBOARD_AUDIO,o.SPAWNER_AUDIO],"application/pdf":[o.URL_PDF,o.FILE_PDF,o.CLIPBOARD_PDF,o.SPAWNER_PDF]},s={".m3u8":[o.URL_VIDEO,o.FILE_VIDEO,o.CLIPBOARD_VIDEO,o.SPAWNER_VIDEO]};function c(e,t,n){for(const n in i)if(t.toLowerCase().startsWith(n)){return a(e,...i[n])}if(n)for(const t in s)if(n.toLowerCase().endsWith(t)){return a(e,...s[t])}return o.UNKNOWN}},37:function(e){e.exports={en:{"app-name":"App","editor-name":"Scene Editor","contact-email":"app@company.com","company-name":"Company","share-hashtag":"#app","app-description":"Share a virtual room with friends.\nWatch videos, play with 3D objects, or just hang out.","app-tagline":"Private social VR in your web browser","auth.verified-title":"Email Verified!","auth.verify-failed":"Unable to sign in with this link. It may have already been used or has expired.","auth.verified":"Your email has been verified!\nYou can now close this browser tab and return to %app-name%.","auth.spoke-verified":"Your email has been verified!\nYou can now close this browser tab and return to %editor-name%.","sign-in.prompt":"Sign in to pin objects in rooms.","sign-in.admin":"Check your email for a verification email. Once verified, enter your email to create your account or sign in.","sign-in.admin-no-permission":"You don't have access to admin tools. Sign into another account or ask an administrator to grant you permission.","sign-in.hub":"An account is required to join rooms.\n\nEnter your email to create your account or sign in.","sign-in.auth-started":"Email sent!\n\nTo continue, click on the link in the email using your phone, tablet, or PC.\n\nNo email? You may not be able to create an account.","sign-in.pin":"You'll need to sign in to pin objects.","sign-in.pin-complete":"You are now signed in.","sign-in.unpin":"You'll need to sign in to un-pin objects.","sign-in.unpin-complete":"You are now signed in.","sign-in.change-scene":"You'll need to sign in to change the scene.","sign-in.change-scene-complete":"You are now signed in.","sign-in.room-settings":"You'll need to sign in to change the room's settings.","sign-in.room-settings-complete":"You are now signed in.","sign-in.close-room":"You'll need to sign in to close the room.","sign-in.close-room-complete":"You are now signed in.","sign-in.mute-user":"You'll need to sign in to mute other users.","sign-in.mute-user-complete":"You are now signed in.","sign-in.kick-user":"You'll need to sign in to kick other users.","sign-in.kick-user-complete":"You are now signed in.","sign-in.add-owner":"You'll need to sign in to assign moderators.","sign-in.add-owner-complete":"You are now signed in.","sign-in.remove-owner":"You'll need to sign in to assign moderators.","sign-in.remove-owner-complete":"You are now signed in.","sign-in.create-avatar":"You'll need to sign in to create avatars.","sign-in.create-avatar-complete":"You are now signed in.","sign-in.favorite-room":"You'll need to sign in to add this room to your favorites.","sign-in.favorite-rooms":"You'll need to sign in to add favorite rooms.","sign-in.favorite-room-complete":"You are now signed in.","sign-in.favorite-rooms-complete":"You are now signed in.","sign-in.tweet":"You'll need to sign in to send tweets.","sign-in.tweet-complete":"You are now signed in.","sign-in.as":"Signed in as","sign-in.in":"Sign In","sign-in.out":"Sign Out","room-settings.apply":"Apply","room-settings.name-subtitle":"Room Name","room-settings.description-subtitle":"Room Description","room-settings.room-access-subtitle":"Room Access","room-settings.permissions-subtitle":"Room Member Permissions","room-settings.room-size-subtitle":"Room Size","room-settings.spawn_and_move_media":"Create and move objects","room-settings.spawn_camera":"Create cameras","room-settings.spawn_drawing":"Create drawings","room-settings.pin_objects":"Pin objects","room-settings.spawn_emoji":"Create emoji","room-settings.access-private":"Private","room-settings.access-private-subtitle":"Only those with the link can join","room-settings.access-public":"Public","room-settings.access-public-subtitle":"Listed on the homepage","room-info.title":"Room & Scene Info","room-info.scene-info":"Scene Info","close-room.message":"Closing this room will remove yourself and others from the room, shutting it down permanently.\n\nAre you sure? This action cannot be undone.","close-room.confirm":"Yes, Close Room","close-room.cancel":"Cancel","promote.message":"Promoting a user will grant full access to room settings and moderation tools.\n\nAre you sure?","promote.confirm-prefix":"Yes, Promote ","promote.cancel":"Cancel","entry.room":"lobby","entry.enter-room-title":"Lobby","entry.enter-room":"Enter Room","entry.leave-room":"Leave Room","entry.change-scene":"Choose Scene","entry.in-lobby-notice":"You are viewing this room from the lobby.","entry.screen-prefix":"Enter on ","entry.desktop-screen":"Screen","entry.mobile-screen":"Phone","entry.mobile-safari":"Safari","entry.generic-prefix":" ","entry.generic-medium":"Connected VR Headset","entry.generic-subtitle-desktop":"Oculus or SteamVR","entry.gearvr-prefix":"Enter on ","entry.gearvr-medium":"Gear VR","entry.choose-device":"Choose Device","entry.device-medium":"Enter on Standalone VR","entry.device-subtitle-desktop":"Wireless VR Headsets","entry.device-subtitle-mobile":"Wireless VR Headsets","entry.device-subtitle-vr":"Phone or PC","entry.entry-disallowed":"Watch from Lobby","entry.entry-disallowed-subtitle":"Room is Full","entry.watch-from-lobby":"Watch from Lobby","entry.watch-from-lobby-subtitle":"Others will not be able to see or hear you","entry.cardboard":"Enter on Google Cardboard","entry.daydream-prefix":"Enter on ","entry.daydream-medium":"Daydream","entry.daydream-via-chrome":"Using Google Chrome","entry.invite-others":"invite others","entry.share-button":"Share","entry.desktop.invite-tip":"Nobody is here yet. Share this room to get together.","entry.mobile.invite-tip":"Share to get together.","entry.return-to-vr":"Return to VR","entry.open-in-window":"Open in Tab","entry.lobby":"Lobby","entry.back":"Back","entry.notify_me":"Notify me when others arrive","entry.mute-on-entry":"Mute my microphone","profile.save":"Accept","profile.display_name.validation_warning":"Alphanumerics and hyphens. At least 3 characters, no more than 32","profile.header":"Name & Avatar","profile.terms_of_use":"Terms of Use","profile.privacy_notice":"Privacy Notice","profile.choose_avatar":"Browse Avatars","profile.tabs.legacy":"Default","profile.tabs.skinnable":"Custom Skin","profile.tabs.url":"Custom Model","avatar-editor.info":"Find more custom avatar resources","avatar-editor.info-link":"here","avatar-editor.external-editor-info":"Create a custom skin for this avatar: ","avatar-preview.loading-failed":"Loading failed\nPlease choose another avatar","media-browser.search-placeholder.scenes":"Search Scenes...","media-browser.search-placeholder.avatars":"Search Avatars...","media-browser.search-placeholder.videos":"Search for Videos...","media-browser.search-placeholder.images":"Search for Images...","media-browser.search-placeholder.youtube":"Search for Youtube videos...","media-browser.search-placeholder.gifs":"Search for GIFs...","media-browser.search-placeholder.twitch":"Search for Twitch streams...","media-browser.search-placeholder.sketchfab":"Search Sketchfab Models...","media-browser.search-placeholder.poly":"Search Google Poly Models...","media-browser.search-placeholder.base":"Search...","media-browser.favorites-header":"Favorite Rooms","media-browser.add_custom_object":"Custom URL or File","media-browser.add_custom_scene":"Custom Scene","media-browser.add_custom_avatar":"Avatar GLB URL","media-browser.privacy_policy":"Privacy Policy","media-browser.report_issue":"Report Issue","media-browser.powered_by.images":"Search by Bing | ","media-browser.powered_by.videos":"Search by Bing | ","media-browser.powered_by.youtube":"Search by Google | ","media-browser.powered_by.gifs":"Search by Tenor | ","media-browser.powered_by.sketchfab":"Search by Sketchfab | ","media-browser.powered_by.poly":"Search by Google | ","media-browser.powered_by.twitch":"Search by Twitch | ","media-browser.powered_by.scenes":"Made with ","media-browser.powered_by.avatars":" ","media-browser.empty.images":"No results. Try entering a new search above.","media-browser.empty.videos":"No results. Try entering a new search above.","media-browser.empty.youtube":"No results. Try entering a new search above.","media-browser.empty.gifs":"No result. Try entering a new search above.","media-browser.empty.sketchfab":"No results. Try entering a new search above.","media-browser.empty.poly":"No results. Try entering a new search above.","media-browser.empty.twitch":"No results. Try entering a new search above.","media-browser.empty.favorites":"You don't have any favorites. Click a ⭐ to add to your favorites.","media-browser.nav_title.youtube":"YouTube","media-browser.nav_title.videos":"Videos","media-browser.nav_title.images":"Images","media-browser.nav_title.gifs":"GIFs","media-browser.nav_title.scenes":"Scenes","media-browser.nav_title.avatars":"Avatars","media-browser.nav_title.sketchfab":"Sketchfab","media-browser.nav_title.poly":"Google Poly","media-browser.nav_title.twitch":"Twitch","media-browser.create-avatar":"Create Avatar","media-browser.create-scene":"Create Scene with %editor-name%","media-browser.hub.joined-prefix":"Visited ","media-browser.similar-to-facet":'Similar to: "{name}"',"audio.title":"Audio Setup","audio.talk_to_test":"talk","audio.click_to_test":"click","audio.subtitle-desktop":"Confirm HMD speaker output","audio.subtitle-mobile":"Earphones are recommended","audio.enter-now":"Enter Now","audio.hmd-mic-warning":"Your HMD mic is not chosen","audio.grant-title":"Grant mic permissions","audio.grant-subtitle":"Mic access needed to be heard by others","audio.granted-title":"Mic permissions granted","audio.granted-subtitle":"You can still mute yourself in-game","audio.granted-next":"Next","exit.subtitle.exited":"Your session has ended. Refresh your browser to start a new one.","exit.subtitle.closed":"This room is no longer available.","exit.subtitle.denied":"You are not permitted to join this room. Please request permission from the room creator.","exit.subtitle.disconnected":"You have disconnected from the room. Refresh the page to try to reconnect.","exit.subtitle.left":"You have left the room.","exit.subtitle.full":"This room is full, please try again later.","exit.subtitle.scene_error":"The scene failed to load.","exit.subtitle.connect_error":"Unable to connect to this room, please try again later.","exit.subtitle.version_mismatch":"The version you deployed is not available yet. Your browser will refresh in 5 seconds.","autoexit.title":"Auto-ending session in ","autoexit.title_units":" seconds","autoexit.concurrent_subtitle":"You have started another session.","autoexit.idle_subtitle":"You have been idle for too long.","autoexit.cancel":"CANCEL","presence.entered_room":"entered the room.","presence.entered_lobby":"entered the lobby.","presence.join_lobby":"joined the lobby.","presence.join_room":"joined the room.","presence.leave":"left.","presence.name_change":"is now known as","presence.scene_change":"changed the scene to","presence.hub_name_change":"changed the name of the room to","presence.in_lobby":"Lobby","presence.entering":"Entering Room","presence.in_room":"In Room","home.create_a_room":"Create a Room","home.desktop.add_pwa":"Install Desktop App","home.mobile.add_pwa":"Add to Home Screen","home.take_a_tour":"Take a Tour","home.room_create_options":"options","home.room_create_button":"Create Room","home.create_name.validation_warning":"Invalid name, limited to 4 to 64 characters and limited symbols.","home.powered_by_prefix":"Powered by","home.powered_by_link":"Hubs Cloud","home.join_us":"Join the Conversation","home.have_code":"Have a room code?","home.add_to_discord_1":"Add the","home.add_to_discord_2":"%app-name% Bot","home.add_to_discord_3":"to Discord","home.create_with_spoke":"Create a Scene","home.report_issue":"Report Issues","home.source_link":"Source","home.whats_new_link":"What's New","home.about_link":"About","home.community_link":"Community","home.cloud_link":"Hubs Cloud","home.admin":"Admin","home.privacy_notice":"Privacy Notice","home.terms_of_use":"Terms of Use","home.made_with_love":"made with 🦆 by ","home.environment_author_by":" by ","dialog.close":"close","link.link_page_header_entry":"Enter your code:","link.link_page_header_headset":"Enter code:","link.linking_a_headset":"Have a letter code?","link.create_a_room":"Create a new room","link.try_again":"We couldn't find that code.\nPlease try again.","help.report_issue":"Report an Issue","scene.create_button":"Create a room with this scene","scene.tweet_button":"Share on Twitter","scene.unavailable":"This scene is no longer available.","scene.remix_button":"Remix in %editor-name%","scene.edit_button":"Edit in %editor-name%","link.in_your_browser":"In your device's web browser, go to:","link.enter_code":"Then, enter this one-time letter code:","link.do_not_close":"Your account and avatar will be transferred to the device.\nKeep this page open to use this code.","link.connect_headset":"Enter on Device","link.cancel":"cancel","invite.enter_via":"Or use expiring ","invite.enter_via_modal":"Others may enter via ","invite.tweet":"tweet","invite.and_enter_code":" code:","invite.duration_of_code":"new code every 72 hours","invite.or_visit":"Share room link:","invite.or_visit_modal":"or by visiting permalink","invite.embed":"or embed on a page","invite.embed-tip":"Please be mindful of where you embed a %app-name% room.\nGo to Room Settings to lock down permissions for this room.","commands.fly":"Toggle fly mode.","commands.grow":"Increase your avatar's size.","commands.shrink":"Decrease your avatar's size.","commands.scene":"Change the scene.","commands.rename":"Rename the room.","commands.help":"Show help.","commands.leave":"Disconnect from the room.","commands.duck":"The duck tested well. Quack.","commands.capture":"Capture a 15 second video.","commands.debug":"Toggle physics debug rendering.","commands.vrstats":"Toggle stats in VR.","preferences.muteMicOnEntry":"Mute microphone on entry","preferences.enableOnScreenJoystickLeft":"Enable left on-screen joystick for moving around","preferences.enableOnScreenJoystickRight":"Enable right on-screen joystick for looking around","preferences.onlyShowNametagsInFreeze":"Only show nametags while frozen","preferences.maxResolution":"Max Resolution (width x height in pixels)","preferences.globalVoiceVolume":"Incoming Voice Volume","preferences.globalMediaVolume":"Media Volume","preferences.materialQualitySetting":"Material quality (requires restart)","preferences.snapRotationDegrees":"Rotation per snap (in degrees)","preferences.allowMultipleHubsInstances":"Disable check for multiple hubs instances","preferences.baseMovementSpeed":"Base movement speed","preferences.disableMovement":"Disable movement","preferences.disableBackwardsMovement":"Disable backwards movement","preferences.disableStrafing":"Disable strafing","preferences.disableTeleporter":"Disable teleporter","preferences.disableAutoPixelRatio":"Disable automatic pixel ratio adjustments","settings.return-to-vr":"Return to VR","settings.change-avatar":"Set Name & Avatar","settings.change-scene":"Choose a Scene","settings.favorites":"Favorite Rooms","settings.preferences":"Preferences","settings.room-settings":"Room Settings","settings.close-room":"Close Room...","settings.room-info":"Room & Scene Info","settings.create-room":"New Room","settings.enable-streamer-mode":"Camera Mode","settings.disable-streamer-mode":"Exit Camera Mode","settings.send-feedback":"Send Feedback","settings.whats-new":"What's New","settings.features":"Help","settings.controls":"Controls","settings.community":"Join Discord","settings.tips":"Start Tour","settings.report":"Report Issue","settings.terms":"Terms of Use","settings.privacy":"Privacy Notice","settings.help":"Help","settings.row-profile":"You","settings.row-room":"Room","settings.row-tools":"Tools","tips.mobile.video_share_mode":"Tap to stop sharing video.","tips.mobile.pen_mode":"Tap icon again to end drawing.","tips.mobile.mute_mode":"You are muted. Tap to unmute.","tips.mobile.freeze_mode":"Two-finger tap to hide menus.","tips.mobile.look":"Welcome! 👋 Tap and drag to look around.","tips.mobile.locomotion":"Great! To move, pinch with two fingers.","tips.mobile.spawn_menu-pre":"Use the ","tips.mobile.spawn_menu-post":"at the top to create objects.","tips.mobile.freeze_gesture":"Two-finger tap to show menus.","tips.mobile.object_grab":"Drag an object to move or throw it.","tips.mobile.object_rotate_button-pre":"Tap and drag ","tips.mobile.object_rotate_button-post":" to rotate.","tips.mobile.object_scale_button-pre":"Tap and drag ","tips.mobile.object_scale_button-post":" to scale.","tips.mobile.object_recenter_button-pre":"Tap ","tips.mobile.object_recenter_button-post":" to have the object face you.","tips.mobile.object_pin":"Pin an object to save it to the room.","tips.mobile.video_share_failed":"No permission granted.","tips.mobile.invite":"Use the Share button to share this room.","tips.mobile.feedback":"🦆 Quack! Want to help Hubs?","tips.mobile.feedback-link":"Tell the Duck.","tips.desktop.video_share_mode":"You're streaming. Select again to stop sharing video.","tips.desktop.pen_mode":"Press ESC or right click to drop pen. Ctrl-Z to undo.","tips.desktop.mute_mode":"You are muted. Click or press M to un-mute.","tips.desktop.look":"Welcome to %app-name%! Let's take a quick tour. 👋 Click and drag to look around.","tips.desktop.locomotion":"Use the W A S D keys to move. Hold shift to boost.","tips.desktop.turning":"Perfect. Use the Q and E keys to rotate.","tips.desktop.spawn_menu-pre":"To create objects, click the ","tips.desktop.spawn_menu-post":"button at the top of the screen, or press Ctrl 1 through 7.","tips.desktop.freeze_gesture":"Press and hold spacebar to show object menus.","tips.desktop.menu_hover":"Now, point the cursor at an object to show the menu.","tips.desktop.object_grab":"Click and drag an object to move it. Or, flick to throw it!","tips.desktop.object_pin":"Pin an object to save it to the room.","tips.desktop.object_zoom":"Scroll to move this object towards and away from you.","tips.desktop.object_rotate_button-pre":"Click and drag ","tips.desktop.object_rotate_button-post":" to rotate the object.","tips.desktop.object_scale_button-pre":"Click and drag ","tips.desktop.object_scale_button-post":" to scale the object.","tips.desktop.object_recenter_button-pre":"Click ","tips.desktop.object_recenter_button-post":" to rotate the object to face you. Helpful if you drop it!","tips.desktop.object_scale":"Hold shift and scroll to scale it bigger and smaller.","tips.desktop.pen_color":"Use Shift-Q and Shift-E to change the pen color.","tips.desktop.pen_size":"Hold Shift and scroll to change the pen size.","tips.desktop.invite":"Nobody else is here. Use the Share button at the top to share this room.","tips.desktop.video_share_failed":"You need to grant permissions to stream video.","tips.streaming":"Now broadcasting to the lobby. Click to exit.","tips.desktop.watching":"You're in the lobby. Others cannot see or hear you.","tips.desktop.feedback":"🦆 Quack! Want to help us make Hubs better?","tips.desktop.feedback-link":"Talk to the Feedback Duck.","tips.watching.back":"Enter Room","tips.mobile.watching":"You're in the lobby.","tips.watching-exit":"Back","lobby.watching":"Watching ","loader.entering_lobby":"Entering lobby...","loader.loading":"Loading ","loader.connecting":"Connecting...","loader.connected":"Connected.","loader.object":"object","loader.objects":"objects","change-scene-dialog.change-scene":"Change Scene","change-scene-dialog.create-in-spoke":"Or, create a new scene using %editor-name%.","change-scene-dialog.new-spoke-project":"Launch %editor-name%","invalid-scene-url":"This URL does not point to a scene or valid GLB.","avatar-url-dialog.apply":"Apply","interstitial.prompt":"Continue","feedback.prompt":"🦆 Feedback ","help.prompt":"Help","help.docs_url":"https://github.com/mozilla/hubs/wiki/Hubs-Features","hide-ui.prompt":"Hide All","discord.primary_tagline":"Share a virtual room with your community.\nWatch videos, play with 3D objects, or just hang out.","discord.secondary_tagline":"No downloads or sign up. Full VR support too.","discord.contact_us":"Invite Bot to Server","discord.community_link":"Hubs Discord","discord.splash_tag":"Designed for serious businessing.","client-info.kick-button":"Kick","client-info.hide-button":"Hide","client-info.unhide-button":"Un-hide ","client-info.mute-button":"Mute","client-info.cancel":"Cancel","client-info.add-owner":"Promote","client-info.remove-owner":"Demote","object-info.remove-button":"Remove","object-info.open-link":"Open Link","object-info.waypoint":"Go To","object-info.pin-button":"Pin","object-info.raise-lights":"Show Background","object-info.lower-lights":"Hide Background","object-info.unpin-button":"Unpin","avatar-landing.select":"Select","avatar-landing.selected":"This is your current avatar","leave-room-dialog.join-room.message":"Joining a new room will leave this one. Are you sure?","leave-room-dialog.join-room.confirm":"Join Room","leave-room-dialog.create-room.message":"Creating a new room will leave this one. Are you sure?","leave-room-dialog.create-room.confirm":"Leave Room","embed.load-button":"Load Room","embed.presence-warning":"This room is embedded, so may be visible to visitors on other websites.","tweet-dialog.tweet":"Tweet","tweet-dialog.posted":"Your tweet has been posted.","tweet-dialog.close":"close","oauth-dialog.sign-in.twitter":"Connect to Twitter","oauth-dialog.sign-in.discord":"Sign in to Discord","oauth-dialog.message.twitter":"Connect to Twitter to send tweets from %app-name%.","cloud.primary_tagline":"Hubs Cloud deploys server infrastructure for private,\ncollaborative 3D rooms that can be accessed on your\ndesktop, mobile phone, or VR headset.","cloud.secondary_tagline":"Get it today on the AWS Marketplace.","cloud.call_to_action_personal":"Get Hubs Cloud Personal","cloud.call_to_action_enterprise":"Get Hubs Cloud Enterprise","cloud.aws_quick_start":"Quick Start Guide","cloud.splash_tag":"Configurable infrastructure for your own Hubs stack"}}},4:function(e,t,n){"use strict";n(53),n(54),n(55);var r=n(70),o=n.n(r);const a={};let i=!1;if(["RETICULUM_SERVER","THUMBNAIL_SERVER","CORS_PROXY_SERVER","NON_CORS_PROXY_DOMAINS","SENTRY_DSN","GA_TRACKING_ID","SHORTLINK_DOMAIN","BASE_ASSETS_PATH"].forEach(e=>{const t=document.querySelector(`meta[name='env:${e.toLowerCase()}']`);a[e]=t?t.getAttribute("content"):{NODE_ENV:"production",SHORTLINK_DOMAIN:"hub.link",RETICULUM_SERVER:"dev.reticulum.io",THUMBNAIL_SERVER:"nearspark-dev.reticulum.io",CORS_PROXY_SERVER:"cors-proxy-dev.reticulum.io",NON_CORS_PROXY_DOMAINS:"hubs.local,dev.reticulum.io"}[e],"BASE_ASSETS_PATH"===e&&a[e]&&(n.p=a[e],o.a.GlobalWorkerOptions.workerSrc=`${a[e]}../assets/js/pdfjs-dist@2.1.266/build/pdf.worker.js`)}),a.AVAILABLE_INTEGRATIONS=window.AVAILABLE_INTEGRATIONS||{},window.APP_CONFIG){a.APP_CONFIG=window.APP_CONFIG;const{theme:e}=a.APP_CONFIG;if(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(`--${n}: ${e[n]};`);const n=document.createElement("style");n.innerHTML=`:root{${t.join("\n")}}`,document.head.prepend(n)}a.APP_CONFIG.features||(a.APP_CONFIG.features={})}else a.APP_CONFIG={features:{}};a.feature=e=>{const t=a.APP_CONFIG.features[e];if("boolean"==typeof t||"enable_spoke"===e){const n=!1;return"enable_spoke"===e&&i||n||t}return t};let s={};a.image=(e,t)=>{const n=a.APP_CONFIG&&a.APP_CONFIG.images&&a.APP_CONFIG.images[e]||s[e];return n&&t?`url(${n})`:n},a.link=(e,t)=>a.APP_CONFIG&&a.APP_CONFIG.links&&a.APP_CONFIG.links[e]||t,a.setIsAdmin=e=>{i=e},a.isAdmin=()=>i,t.a=a},42:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"h",function(){return b});var r=n(7),o=n(12);function a(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)})}}const s="/api/v1/avatars",c={SKINNABLE:"skinnable",URL:"url"};function u(e){return e.startsWith("http")?c.URL:c.SKINNABLE}function l(){return(l=i(function*(e){const t=yield Object(r.d)(`/api/v1/avatars/${e}`);return t&&t.avatars&&t.avatars[0]})).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=i(function*(e){switch(u(e)){case c.SKINNABLE:return function(e){return l.apply(this,arguments)}(e);case c.URL:return{avatar_id:e,gltf_url:Object(o.i)(e)}}})).apply(this,arguments)}function h(){return(h=i(function*(e){return d(e).then(e=>e&&e.gltf_url)})).apply(this,arguments)}function f(e){switch(u(e)){case c.SKINNABLE:return function(e){return h.apply(this,arguments)}(e);case c.URL:return Object(o.i)(e);default:return e}}function m(e){return g.apply(this,arguments)}function g(){return(g=i(function*(e){switch(u(e)){case c.SKINNABLE:return d(e).then(e=>e.files.thumbnail);default:return"https://asset-bundles-prod.reticulum.io/bots/avatar_unavailable.png"}})).apply(this,arguments)}const v="Bot_PBS";function y(e){if(e.materials.find(e=>e.name===v))return e;function t(t){if(!t.primitives)return;const n=t.primitives.find(e=>void 0!==e.material);return n&&e.materials[n.material]}let n=e.scenes[e.scene].nodes.slice(0);for(;n.length;){const r=e.nodes[n.shift()],o=void 0!==r.mesh&&t(e.meshes[r.mesh]);if(o){o.name=v;break}r.children&&(n=n.concat(r.children))}return e}function b(e,t){return _.apply(this,arguments)}function _(){return(_=i(function*(e,t){const n={parent_avatar_listing_id:e,name:t,files:{}};return Object(r.d)(s,"POST",{avatar:n})})).apply(this,arguments)}},48:function(e,t,n){"use strict";function r(e,t){e.material&&(Array.isArray(e.material)?e.material.forEach(t):t(e.material))}function o(e,t){if(e.material)return Array.isArray(e.material)?e.material.map(t):t(e.material)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},50:function(e,t,n){"use strict";var r=n(139),o=n(140),a=n(78),i=n.n(a),s=n(65),c=n.n(s),u=n(76),l=n(7),d=n(75),p=n.n(d);function h(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}const f=["Baers-Pochard","Baikal-Teal","Barrows-Goldeneye","Blue-Billed","Blue-Duck","Blue-Winged","Brown-Teal","Bufflehead","Canvasback","Cape-Shoveler","Chestnut-Teal","Chiloe-Wigeon","Cinnamon-Teal","Comb-Duck","Common-Eider","Common-Goldeneye","Common-Merganser","Common-Pochard","Common-Scoter","Common-Shelduck","Cotton-Pygmy","Crested-Duck","Crested-Shelduck","Eatons-Pintail","Falcated","Ferruginous","Freckled-Duck","Gadwall","Garganey","Greater-Scaup","Green-Pygmy","Grey-Teal","Hardhead","Harlequin","Hartlaubs","Hooded-Merganser","Hottentot-Teal","Kelp-Goose","King-Eider","Lake-Duck","Laysan-Duck","Lesser-Scaup","Long-Tailed","Maccoa-Duck","Mallard","Mandarin","Marbled-Teal","Mellers-Duck","Merganser","Northern-Pintail","Orinoco-Goose","Paradise-Shelduck","Plumed-Whistler","Puna-Teal","Pygmy-Goose","Radjah-Shelduck","Red-Billed","Red-Crested","Red-Shoveler","Ring-Necked","Ringed-Teal","Rosy-Billed","Ruddy-Shelduck","Salvadoris-Teal","Scaly-Sided","Shelduck","Shoveler","Silver-Teal","Smew","Spectacled-Eider","Spot-Billed","Spotted-Whistler","Steamerduck","Stellers-Eider","Sunda-Teal","Surf-Scoter","Tufted-Duck","Velvet-Scoter","Wandering-Whistler","Whistling-duck","White-Backed","White-Cheeked","White-Winged","Wigeon","Wood-Duck","Yellow-Billed"];function m(e){return e[Math.floor(Math.random()*e.length)]}function g(){return v.apply(this,arguments)}function v(){var e;return e=function*(){const e=(yield Object(l.d)("/api/v1/media/search?filter=default&source=avatar_listings")).entries;return 0===e.length?new URL(p.a,location.href).href:m(e.map(e=>e.id))},(v=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,s,"next",e)}function s(e){h(a,r,o,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}function b(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,s,"next",e)}function s(e){b(a,r,o,i,s,"throw",e)}i(void 0)})}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return S}),n.d(t,"b",function(){return A});const E="___hubs_store",T=Symbol(),R="ret-oauth-flow-account-credentials",P=new r.Validator,S={id:"/HubsStore",definitions:{profile:{type:"object",additionalProperties:!1,properties:{displayName:{type:"string",pattern:"^[A-Za-z0-9 -]{3,32}$"},avatarId:{type:"string"},personalAvatarId:{type:"string"}}},credentials:{type:"object",additionalProperties:!1,properties:{token:{type:["null","string"]},email:{type:["null","string"]}}},activity:{type:"object",additionalProperties:!1,properties:{hasFoundFreeze:{type:"boolean"},hasChangedName:{type:"boolean"},hasAcceptedProfile:{type:"boolean"},lastEnteredAt:{type:"string"},hasPinned:{type:"boolean"},hasRotated:{type:"boolean"},hasRecentered:{type:"boolean"},hasScaled:{type:"boolean"},hasHoveredInWorldHud:{type:"boolean"},hasOpenedShare:{type:"boolean"},entryCount:{type:"number"}}},settings:{type:"object",additionalProperties:!1,properties:{lastUsedMicDeviceId:{type:"string"}}},preferences:{type:"object",additionalProperties:!1,properties:{muteMicOnEntry:{type:"bool"},enableOnScreenJoystickLeft:{type:"bool"},enableOnScreenJoystickRight:{type:"bool"},onlyShowNametagsInFreeze:{type:"bool"},allowMultipleHubsInstances:{type:"bool"},maxResolutionWidth:{type:"number"},maxResolutionHeight:{type:"number"},globalVoiceVolume:{type:"number"},globalMediaVolume:{type:"number"},snapRotationDegrees:{type:"number"},materialQualitySetting:{type:"string"},disableMovement:{type:"bool"},disableBackwardsMovement:{type:"bool"},disableStrafing:{type:"bool"},disableTeleporter:{type:"bool"},disableAutoPixelRatio:{type:"bool"}}},confirmedDiscordRooms:{type:"array",items:{type:"string"}},confirmedBroadcastedRooms:{type:"array",items:{type:"string"}},uploadPromotionTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{fileId:{type:"string"},promotionToken:{type:"string"}}}},creatorAssignmentTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},creatorAssignmentToken:{type:"string"}}}},embedTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},embedToken:{type:"string"}}}},onLoadActions:{type:"array",items:{type:"object",additionalProperties:!1,properties:{action:{type:"string"},args:{type:"object"}}}}},type:"object",properties:{profile:{$ref:"#/definitions/profile"},credentials:{$ref:"#/definitions/credentials"},activity:{$ref:"#/definitions/activity"},settings:{$ref:"#/definitions/settings"},preferences:{$ref:"#/definitions/preferences"},confirmedDiscordRooms:{$ref:"#/definitions/confirmedDiscordRooms"},confirmedBroadcastedRooms:{$ref:"#/definitions/confirmedBroadcastedRooms"},uploadPromotionTokens:{$ref:"#/definitions/uploadPromotionTokens"},creatorAssignmentTokens:{$ref:"#/definitions/creatorAssignmentTokens"},embedTokens:{$ref:"#/definitions/embedTokens"},onLoadActions:{$ref:"#/definitions/onLoadActions"}},additionalProperties:!1};class A extends u.a{constructor(){var e;super(),e=this,w(this,"_signOutOnExpiredAuthToken",()=>{if(!this.state.credentials.token)return;1e3*c()(this.state.credentials.token).exp<=Date.now()&&this.update({credentials:{token:null,email:null}})}),w(this,"initProfile",_(function*(){e._shouldResetAvatarOnInit?yield e.resetToRandomDefaultAvatar():e.update({profile:y({avatarId:yield g()},e.state.profile||{})}),e.state.activity.hasChangedName||e.update({profile:{displayName:`${m(f)}-${Math.floor(1e4+1e4*Math.random())}`}})})),w(this,"resetToRandomDefaultAvatar",_(function*(){e.update({profile:y({},e.state.profile||{},{avatarId:yield g()})})})),null===localStorage.getItem(E)&&localStorage.setItem(E,JSON.stringify({})),window.addEventListener("storage",e=>{e.key===E&&(delete this[T],this.dispatchEvent(new CustomEvent("statechanged")))}),this.update({activity:{},settings:{},credentials:{},profile:{},confirmedDiscordRooms:[],confirmedBroadcastedRooms:[],uploadPromotionTokens:[],creatorAssignmentTokens:[],embedTokens:[],onLoadActions:[],preferences:{}}),this._shouldResetAvatarOnInit=!1;const t=i.a.getJSON(R);t&&(this.update({credentials:t}),this._shouldResetAvatarOnInit=!0,i.a.remove(R)),this._signOutOnExpiredAuthToken()}get state(){return this.hasOwnProperty(T)||(this[T]=JSON.parse(localStorage.getItem(E))),this[T]}get credentialsAccountId(){return this.state.credentials.token?c()(this.state.credentials.token).sub:null}resetConfirmedBroadcastedRooms(){this.clearStoredArray("confirmedBroadcastedRooms")}resetTipActivityFlags(){this.update({activity:{hasRotated:!1,hasPinned:!1,hasRecentered:!1,hasScaled:!1,entryCount:0}})}bumpEntryCount(){const e=this.state.activity.entryCount||0;this.update({activity:{entryCount:e+1}})}enqueueOnLoadAction(e,t){this.update({onLoadActions:[{action:e,args:t}]})}executeOnLoadActions(e){for(let t=0;t<this.state.onLoadActions.length;t++){const{action:n,args:r}=this.state.onLoadActions[t];"emit_scene_event"===n&&e.emit(r.event,r.detail)}this.clearOnLoadActions()}clearOnLoadActions(){this.clearStoredArray("onLoadActions")}clearStoredArray(e){const t={};t[e]=[],this.update(t,{arrayMerge:(e,t)=>t})}update(e,t){const n=Object(o.a)(this.state,e,t),{valid:r}=P.validate(n,S);if(!r)throw new Error("Write to store failed schema validation.");return localStorage.setItem(E,JSON.stringify(n)),delete this[T],void 0!==e.profile&&this.dispatchEvent(new CustomEvent("profilechanged")),this.dispatchEvent(new CustomEvent("statechanged")),n}}},53:function(e,t,n){e.exports=n.p+"assets/images/app-logo-157c06cff6c80227eb577f35c79e58b6.png"},54:function(e,t,n){e.exports=n.p+"assets/images/company-logo-8f6f7c3b303004256295b45c2eee5117.png"},55:function(e,t,n){e.exports=n.p+"assets/images/editor-logo-6f885a1543496ebc23a21b7fea82b255.png"},56:function(e,t,n){"use strict";function r(e){const t=e.sceneEl.is("frozen"),n=e.components.pinnable&&e.components.pinnable.data.pinned,r=!!e.components["super-spawner"],o=r&&"#interactable-emoji"===e.components["super-spawner"].data.template,a=(!!e.components.emoji||o?window.APP.hubChannel.can("spawn_emoji"):window.APP.hubChannel.can("spawn_and_move_media"))&&(!n||window.APP.hubChannel.can("pin_objects"));return(r||!n||t)&&a}function o(e){const t=e.components.pinnable&&e.components.pinnable.data.pinned,n=e&&e.components.networked&&e.components.networked.data.template,r="#interactable-camera"===n,o="#interactable-pen"===n,a="#interactable-emoji"===(e&&e.components["super-spawner"]&&e.components["super-spawner"].data.template),i=!!e.components.emoji;return e.components.tags&&e.components.tags.data.holdableButton||(i||a?window.APP.hubChannel.can("spawn_emoji"):window.APP.hubChannel.can("spawn_and_move_media"))&&(!t||window.APP.hubChannel.can("pin_objects"))&&(!r||window.APP.hubChannel.can("spawn_camera"))&&(!o||window.APP.hubChannel.can("spawn_drawing"))}function a(e,t){const n="string"==typeof e,r=n?e:e.component;return n?t.components.findIndex(e=>e===r):t.components.findIndex(t=>t.component===r&&t.property===e.property)}n.d(t,"d",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g});let i=null;function s(e,t){null===i&&function(){i={};const{schemaDict:e}=NAF.schemas;for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t];i[t]=(n.nonAuthorizedComponents||[]).map(e=>a(e,n)).map(e=>e.toString())}}();const n=i[e];for(const e in t.components)t.components.hasOwnProperty(e)&&(n.includes(e)||(t.components[e]=null));return t}function c(e,t,n){const{template:r,creator:o,isPinned:a}=e,i=t===o;return!!r.endsWith("-waypoint-avatar")||(r.endsWith("-avatar")?i:r.endsWith("-media")?(!a||n.pin_objects)&&(i||n.spawn_and_move_media):r.endsWith("-camera")?i||n.spawn_camera:r.endsWith("-pen")||r.endsWith("-drawing")?i||n.spawn_drawing:!!r.endsWith("-emoji")&&(i||n.spawn_emoji))}function u(e){const t=NAF.connection.adapter.getPendingDataForNetworkId(e);if(t){const{template:e,creator:n}=t,r=NAF.schemas.schemaDict[e],o=t.components[a("pinnable",r)];return{template:e,creator:n,isPinned:o&&o.pinned}}const n=NAF.entities.getEntity(e);if(!n)return null;const{template:r,creator:o}=n.components.networked.data;return{template:r,creator:o,isPinned:n.components.pinnable&&n.components.pinnable.data.pinned}}function l(e,t,n){const r=u(e.networkId);if(!r)return!1;if(c(r,t,n))return!0;{const{template:t}=r;return s(t,e),!0}}const d={};function p(e,t){if(d[t.networkId]){const e=d[t.networkId].data,n=e.components;Object.assign(e,t),e.components=Object.assign(n,t.components)}else d[t.networkId]={dataType:"u",data:t,clientId:e.clientId,from_session_id:e.from_session_id}}const h={};function f(e){const{dataType:t,from_session_id:n}=e;if("u"===t&&e.data.isFirstSync&&!e.data.persistent)return e;const r=window.APP.hubChannel.presence.state[n];if(!r)return h;const o=r.metas[0].permissions;if("um"===t){let t=!1,r=!1;for(const a in e.data.d){if(!e.data.d.hasOwnProperty(a))continue;const i=e.data.d[a];if(i.persistent&&!NAF.entities.getEntity(i.networkId))p(e,i),e.data.d[a]=null,r=!0;else{l(i,n,o)||(e.data.d[a]=null,t=!0)}}return(t||r)&&(e.data.d=e.data.d.filter(e=>null!=e)),e}if("u"===t){if(e.data.persistent&&!NAF.entities.getEntity(e.data.networkId))return d[e.data.networkId]=e,h;return l(e.data,n,o)?e:h}if("r"===t){const t=u(e.data.networkId);return t&&c(t,n,o)?e:h}return e}const m="phx-reliable";function g(e){d[e]&&(NAF.connection.adapter.onData(f(d[e]),m),delete d[e])}},7:function(e,t,n){"use strict";var r=n(106);const o=["able","absolute","acceptable","acclaimed","accomplished","accurate","aching","acrobatic","adorable","adventurous","basic","belated","beloved","calm","candid","capital","carefree","caring","cautious","celebrated","charming","daring","darling","dearest","each","eager","early","earnest","easy","easygoing","ecstatic","edible","fabulous","fair","faithful","familiar","famous","fancy","fantastic","far","generous","gentle","genuine","giant","handmade","handsome","handy","happy","icy","ideal","identical","keen","lasting","lavish","magnificent","majestic","mammoth","marvelous","natural","obedient","palatable","parched","passionate","pastel","peaceful","perfect","perfumed","quaint","qualified","radiant","rapid","rare","safe","sandy","satisfied","scaly","scarce","scared","scary","scented","scientific","secret","sentimental","talkative","tangible","tart","tasty","tattered","teeming","ultimate","uncommon","unconscious","understated","warm","active","adept","admirable","admired","adorable","adored","advanced","affectionate","beneficial","best","better","big","cheerful","cheery","chief","chilly","classic","clean","clear","clever","decent","decisive","deep","defiant","definitive","delectable","delicious","elaborate","elastic","elated","elegant","elementary","elliptical","fast","favorable","favorite","fearless","gifted","glamorous","gleaming","glittering","harmonious","imaginative","immense","jealous","kind","leafy","legal","mature","mean","nautical","neat","necessary","needy","oddball","offbeat","periodic","perky","personal","pertinent","petty","quarterly","ready","real","realistic","reasonable","regal","serene","shabby","sharp","shiny","showy","shy","silky","tempting","tense","terrific","testy","thankful","uniform","unique","vast","weary","wee","welcome","agile","alarmed","alert","alive","bleak","blissful","blushing","coarse","colorful","colossal","comfortable","compassionate","complete","delightful","dense","dependable","dependent","descriptive","detailed","determined","devoted","different","eminent","emotional","enchanted","enchanting","energetic","enormous","fine","finished","firm","firsthand","fixed","flashy","flawless","glorious","glossy","golden","good","gorgeous","graceful","healthy","heartfelt","hearty","helpful","impartial","impressive","jolly","jovial","lighthearted","likable","lined","mellow","melodic","memorable","mild","new","opulent","playful","pleasant","pleasing","plump","plush","polished","polite","reliable","relieved","remarkable","remote","respectful","responsible","simple","simplistic","sizzling","sleepy","slight","slim","smart","smooth","snappy","snoopy","thirsty","this","thorough","those","thoughtful","united","vibrant","vicious","wellmade","whimsical","whirlwind","zesty","amazing","ambitious","ample","amused","amusing","ancient","angelic","antique","bold","bossy","both","bouncy","bountiful","complex","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","diligent","dimwitted","direct","discrete","envious","essential","ethical","euphoric","flippant","fluffy","flustered","focused","fond","gracious","grand","grandiose","granular","grateful","grave","great","hidden","high","hilarious","homely","incomparable","incredible","infamous","joyful","lively","loathsome","lonely","long","mindless","miniature","minor","misty","next","nice","nifty","nimble","orderly","organic","ornate","popular","posh","positive","potable","powerful","powerless","precious","present","prestigious","quick","rewarding","rich","right","sociable","soft","solid","some","sophisticated","soulful","sparkling","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spry","thrifty","tidy","tight","timely","tinted","unruly","untimely","violet","wicked","wide","wild","willing","winding","windy","zigzag","apprehensive","appropriate","artistic","assured","astonishing","bright","brilliant","bronze","coordinated","courageous","courteous","crafty","crazy","creamy","creative","crisp","distant","distinct","downright","evergreen","everlasting","every","evil","excellent","excitable","exemplary","exhausted","forthright","fortunate","fragrant","frank","free","frequent","fresh","friendly","frightened","frigid","gripping","grounded","honest","honorable","honored","hopeful","hospitable","hot","huge","infatuated","infinite","informal","insistent","instructive","juicy","jumbo","knowing","knowledgeable","longterm","loud","lovable","loving","modern","modest","monumental","normal","notable","outgoing","precious","pretty","prickly","primary","pristine","private","prize","productive","profitable","quiet","quintessential","roasted","robust","square","squiggly","stable","staid","starry","steel","stimulating","striking","striped","strong","studious","stunning","tough","trained","treasured","tremendous","triangular","tricky","unused","unusual","upbeat","virtual","witty","wonderful","wooden","worldly","youthful","attached","attentive","attractive","austere","authentic","automatic","aware","awesome","bubbly","bustling","busy","buttery","cuddly","cultured","curly","curvy","cute","cylindrical","downright","dramatic","excited","exciting","exotic","experienced","expert","frosty","fruitful","full","fumbling","funny","fussy","growing","grown","gummy","humble","humongous","hungry","intelligent","interesting","known","kooky","loyal","lucky","luminous","lustrous","luxurious","multicolored","mysterious","noteworthy","numb","nutritious","outstanding","overjoyed","proper","proud","prudent","punctual","puny","pure","puzzled","puzzling","quirky","stupendous","sturdy","stylish","subdued","subtle","sunny","super","superb","supportive","surprised","sweet","swift","sympathetic","trivial","trusting","trustworthy","trusty","truthful","twin","usable","used","useful","utilized","vital","vivid","worried","worthwhile","worthy","writhing","wry","yummy","chocolate","crimson","cyan","fuchsia","gold","honeydew","lime","linen","magenta","olive","peru","salmon","seashell","sienna","snow","thistle","tomato","transparent","turquoise","violet"],a=["space","land","world","universe","plane","room","nation","plaza","gathering","meetup","get together","conclave","party","domain","dominion","realm","square","commons","park","cosmos","sphere","terrain","spot","zone","area","tract","turf","place","territory","volume","camp","picnic","outing","vacation","adventure","exploration","outing","walkabout","safari","venture","roundtable","barbecue","celebration","festivity","gala","shindig","social","convention","assembly","congregation","rendezvous","huddle","meet","soiree"];function i(){const e=e=>{const t=e[Math.floor(Math.random()*e.length)];return t.charAt(0).toUpperCase()+t.slice(1)};return`${e(o)} ${e(o)} ${e(a)}`}var s=n(4),c=n(50);function u(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,s,"next",e)}function s(e){u(a,r,o,i,s,"throw",e)}i(void 0)})}}function d(){return!!s.a.RETICULUM_SERVER}function p(){return d()&&document.location.host!==s.a.RETICULUM_SERVER}n.d(t,"k",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return y}),n.d(t,"e",function(){return w}),n.d(t,"l",function(){return E}),n.d(t,"a",function(){return R}),n.d(t,"f",function(){return S}),n.d(t,"d",function(){return A}),n.d(t,"b",function(){return x}),n.d(t,"g",function(){return k}),n.d(t,"h",function(){return M}),n.d(t,"n",function(){return j}),n.d(t,"c",function(){return I});const h=document.createElement("a");let f,m=null,g=!1;function v(e,t=!1,n=null,r=null){return n||d()?`https://${n||s.a.RETICULUM_SERVER}${r?`:${r}`:""}${e}`:t?(h.href=e,h.href):e}function y(){return b.apply(this,arguments)}function b(){return(b=l(function*(){m||(!g&&document.querySelector("meta[name='ret:version']")?m={version:document.querySelector("meta[name='ret:version']").getAttribute("value"),pool:document.querySelector("meta[name='ret:pool']").getAttribute("value"),phx_host:document.querySelector("meta[name='ret:phx_host']").getAttribute("value")}:yield fetch(v("/api/v1/meta")).then(function(){var e=l(function*(e){m=yield e.json()});return function(t){return e.apply(this,arguments)}}()));const e=new URLSearchParams(location.search).get("phx_host");return e&&(m.phx_host=e),m})).apply(this,arguments)}function _(){return(_=l(function*(){const e=new URLSearchParams(location.search);let t=e.get("phx_host");const n=yield y();t=t||s.a.RETICULUM_SOCKET_SERVER||n.phx_host;const r=e.get("phx_port")||(d()?new URL(`${document.location.protocol}//${s.a.RETICULUM_SERVER}`).port:"443");f={host:t,port:r}})).apply(this,arguments)}function w(e,t=!1){if(!f)return console.warn("Cannot call getDirectReticulumFetchUrl before connectToReticulum. Returning non-direct url."),v(e,t);const{host:n,port:r}=f;return v(e,t,n,r)}function E(){return T.apply(this,arguments)}function T(){return(T=l(function*(){g=!0,m=null})).apply(this,arguments)}function R(){return P.apply(this,arguments)}function P(){return(P=l(function*(e=!1,t=null,n=r.b){const o=new URLSearchParams(location.search),a=function(){var e=l(function*(){yield function(){return _.apply(this,arguments)}();const{host:e,port:t}=f;return`${o.get("phx_protocol")||s.a.RETICULUM_SOCKET_PROTOCOL||("https:"===document.location.protocol?"wss:":"ws:")}//${e}${t?`:${t}`:""}`});return function(){return e.apply(this,arguments)}}(),i=yield a();console.log(`Phoenix Socket URL: ${i}`);const c={};e&&(c.logger=(e,t,n)=>{console.log(`${e}: ${t}`,n)}),t&&(c.params=t);const u=new n(`${i}/socket`,c);return u.connect(),u.onError(l(function*(){E();const e=new URL(u.endPoint).pathname,t=`${yield a()}${e}`;console.log(`Socket error, changed endpoint to ${t}`),u.endPoint=t})),u})).apply(this,arguments)}function S(e){const t=new URL(e);return v(t.pathname.replace(".png",".html")+t.search,!0)}function A(e,t="GET",n){const{token:r}=window.APP.store.state.credentials,o=v(e),a={headers:{"content-type":"application/json"},method:t};return r&&(a.headers.authorization=`bearer ${r}`),n&&(a.body=JSON.stringify(n)),fetch(o,a).then(function(){var e=l(function*(e){const t=yield e.text();try{return JSON.parse(t)}catch(e){return t}});return function(t){return e.apply(this,arguments)}}())}function x(e,t,n){return C.apply(this,arguments)}function C(){return(C=l(function*(e,t,n){const r=v("/api/v1/hubs"),o={hub:{name:e||i()}};t&&(o.hub.scene_id=t);const a={"content-type":"application/json"},s=new c.b;s.state&&s.state.credentials.token&&(a.authorization=`bearer ${s.state.credentials.token}`);let u=yield fetch(r,{body:JSON.stringify(o),headers:a,method:"POST"}).then(e=>e.json());"invalid_token"===u.error&&(s.update({credentials:{token:null,email:null}}),delete a.authorization,u=yield fetch(r,{body:JSON.stringify(o),headers:a,method:"POST"}).then(e=>e.json()));const l=u;let d=l.url;const h=l.creator_assignment_token;if(h){s.update({creatorAssignmentTokens:[{hubId:l.hub_id,creatorAssignmentToken:h}]});const e=l.embed_token;e&&s.update({embedTokens:[{hubId:l.hub_id,embedToken:e}]})}p()&&(d=`/hub.html?hub_id=${l.hub_id}`),n?document.location.replace(d):document.location=d})).apply(this,arguments)}function O(e,t){const n=(Object.entries(e||{}).find(([e])=>e===t)||[])[1];return n&&n.metas&&n.metas[0]||{}}function k(e,t){return(O(e,t)||{}).context||{}}function M(e,t){return(O(e,t)||{}).profile||{}}function j(e,t,n){const r=t.channel(e.topic,n||e.params);for(let t=0,n=e.bindings.length;t<n;t++){const n=e.bindings[t];r.on(n.event,n.callback)}for(let t=0,n=e.pushBuffer.length;t<n;t++){const n=e.pushBuffer[t];r.push(n.event,n.payload,n.timeout)}const o=e.joinPush,a=r.join();for(let e=0,t=o.recHooks.length;e<t;e++){const t=o.recHooks[e];a.receive(t.status,t.callback)}return new Promise(t=>{a.receive("ok",()=>{e.bindings=[],t(r)})})}function I(e){const t=[];for(const n of Object.values(e))for(const e of n.metas)e.profile&&e.profile.discordBridges&&Array.prototype.push.apply(t,e.profile.discordBridges.map(e=>e.channel.name));return t}},75:function(e,t,n){e.exports=n.p+"assets/models/DuckyMesh-04f978955fb12d48f7ff8c59a05de439.glb"},81:function(e,t,n){"use strict";function r(){return new Promise(e=>{setTimeout(e,0)})}n.d(t,"a",function(){return r})},83:function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"b",function(){return A});var r=n(81),o=n(48),a=n(225),i=n.n(a),s=n(98),c=n(15),u=n(12),l=n(114),d=n(154),p=n(9);function h(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,s,"next",e)}function s(e){h(a,r,o,i,s,"throw",e)}i(void 0)})}}THREE.Mesh.prototype.raycast=d.b;const m=new class{constructor(){var e,t,n;e=this,t="cache",n=new Map,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}set(e,t){return this.cache.set(e,{gltf:t,count:0}),this.retain(e)}has(e){return this.cache.has(e)}get(e){return this.cache.get(e)}retain(e){const t=this.cache.get(e);return t.count++,t}release(e){const t=this.cache.get(e);t?(t.count--,t.count<=0&&(t.gltf.scene.traverse(p.f),this.cache.delete(e))):console.error(`Releasing uncached gltf ${e}`)}},g=new Map,v=Object(l.a)(new i.a);function y(e,t,n){if(!AFRAME.components[t])throw new Error(`Inflator failed. "${t}" component does not exist.`);if(AFRAME.components[t].multiple&&Array.isArray(n))for(let r=0;r<n.length;r++)e.setAttribute(t+"__"+r,n[r]);else e.setAttribute(t,n)}function b(e){return{animations:e.scene.animations,scene:Object(p.e)(e.scene)}}function _(e){const t=e.userData.gltfExtensions&&(e.userData.gltfExtensions.MOZ_hubs_components||e.userData.gltfExtensions.HUBS_components),n=e.userData.components;return t||n}AFRAME.GLTFModelPlus={components:{},registerComponent(e,t,n){n=n||y,AFRAME.GLTFModelPlus.components[e]={inflator:n,componentName:t}}};const w=function(e,t,n,r,o=1){"Chest"===t.name?t.name="Spine":"Root Scene"===t.name?t.name="AvatarRoot":"Bot_Skinned"===t.name&&(t.name="AvatarMesh");const a=[],i=t.children.slice(0);for(const t of i){const r=w(e,t,n);r&&a.push(r)}const s=_(t);if(!(!!s||t.name in n)&&!a.length&&!r)return null;const c=document.createElement("a-entity");c.append.apply(c,a);const u=(t.name||t.uuid).replace(/[^\w-]/g,"");c.classList.add(u),"YXZ"!==t.rotation.order&&t.rotation.setFromQuaternion(t.quaternion,"YXZ"),c.object3D.position.copy(t.position),c.object3D.rotation.copy(t.rotation),c.object3D.scale.copy(t.scale).multiplyScalar(o),c.object3D.matrixNeedsUpdate=!0,t.matrixAutoUpdate=!1,t.matrix.identity(),t.matrix.decompose(t.position,t.rotation,t.scale),c.setObject3D(t.type.toLowerCase(),t),s&&"nav-mesh"in s&&c.setObject3D("mesh",t),c.object3D.name=t.name,c.object3D.uuid=t.uuid,t.uuid=THREE.Math.generateUUID(),t.animations&&(t.parent.animations=t.animations),t.morphTargetInfluences&&(t.parent.morphTargetInfluences=t.morphTargetInfluences);const l=t.userData.gltfIndex;return void 0!==l&&(e[l]=c),c};function E(){return(E=f(function*(e,t){let n=!0;const r=[];e.object3D.traverse(function(){var e=f(function*(e){const o={};o.promise=new Promise(e=>o.resolve=e),r.push(o),n||(yield r.shift().promise),n=!1;const a=_(e),i=e.el;if(a&&i)for(const e in a)if(a.hasOwnProperty(e)&&AFRAME.GLTFModelPlus.components.hasOwnProperty(e)){const{componentName:n,inflator:r}=AFRAME.GLTFModelPlus.components[e];yield r(i,n,a[e],a,t)}o.resolve()});return function(t){return e.apply(this,arguments)}}()),yield r.shift().promise})).apply(this,arguments)}function T(e,t,n){const r=e.querySelectorAll("."+t);for(const e of r){const t=n.cloneNode(!0);for(const n of t.attributes){const{name:t,value:r}=n;e.setAttribute(t,r)}for(;t.children.length>0;)e.appendChild(t.children[0])}}function R(e){return e.extensions&&e.extensions.MOZ_hubs_components?e.extensions.MOZ_hubs_components:e.extensions&&e.extensions.HUBS_components?e.extensions.HUBS_components:e.extras&&e.extras.gltfExtensions&&e.extras.gltfExtensions.MOZ_hubs_components?e.extras.gltfExtensions.MOZ_hubs_components:void 0}function P(e,t,n,r,o){return S.apply(this,arguments)}function S(){return(S=f(function*(e,t,n,r,a){let i,l=e;t&&(t.includes("model/gltf+zip")||t.includes("application/x-zip-compressed"))&&(i=yield v(l),l=i["scene.gtlf"]);const d=new THREE.LoadingManager;d.setURLModifier(Object(u.b)(l));const p=new THREE.GLTFLoader(d);p.setBasisTextureLoader(c.d);const h=yield new Promise((e,t)=>p.createParser(l,e,r,t));h.textureLoader=c.n,a&&(h.json=a(h.json));let f=0;h.json.extensions&&h.json.extensions.MOZ_hubs_components&&h.json.extensions.MOZ_hubs_components.hasOwnProperty("version")&&(f=h.json.extensions.MOZ_hubs_components.version),function(e,t){if(e<2){const e=t.nodes.find(e=>{const t=R(e);return t&&t.heightfield&&t["nav-mesh"]});e&&(e.extensions&&e.extensions.MOZ_hubs_components?delete e.extensions.MOZ_hubs_components.heightfield:e.extensions&&e.extensions.HUBS_components?delete e.extensions.HUBS_components.heightfield:e.extras&&e.extras.gltfExtensions&&e.extras.gltfExtensions.MOZ_hubs_components&&delete e.extras.gltfExtensions.MOZ_hubs_components)}if(e<4&&t.nodes)for(const e of t.nodes){const t=R(e);if(!t)continue;const n=t["spot-light"]||t["point-light"];n&&0===n.range&&(n.decay=0)}}(f,h.json);const m=h.json.materials;if(m)for(let e=0;e<m.length;e++){const t=m[e];if(t.extensions&&t.extensions.MOZ_alt_materials&&void 0!==t.extensions.MOZ_alt_materials[n]){const r=t.extensions.MOZ_alt_materials[n];m[e]=m[r]}}const g=h.json.nodes;if(g)for(let e=0;e<g.length;e++){const t=g[e];t.extras||(t.extras={}),t.extras.gltfIndex=e}const y=yield new Promise(h.parse.bind(h));return y.scene.traverse(e=>{e.matrixAutoUpdate=THREE.Object3D.DefaultMatrixAutoUpdate,e.material=Object(o.b)(e,e=>e.isMeshStandardMaterial&&"KHR_materials_unlit"===n?s.a.fromStandardMaterial(e):e)}),i&&Object.keys(i).forEach(URL.revokeObjectURL),y.scene.animations=y.animations,y})).apply(this,arguments)}function A(e){return x.apply(this,arguments)}function x(){return(x=f(function*(e,t=null,n=!1,r=null){const o=window.APP&&"low"===window.APP.quality?"KHR_materials_unlit":"pbrMetallicRoughness";if(n){if(m.has(e))return m.retain(e),b(m.get(e).gltf);if(g.has(e)){const t=yield g.get(e);return m.retain(e),b(t)}{const n=P(e,t,o,null,r);g.set(e,n);const a=yield n;return g.delete(e),m.set(e,a),b(a)}}return P(e,t,o,null,r)})).apply(this,arguments)}function C(e){if(e&&"#"===e.charAt(0)){const t=document.getElementById(e.substring(1));if(t)return t.getAttribute("src")}return e}AFRAME.registerComponent("gltf-model-plus",{schema:{src:{type:"string"},contentType:{type:"string"},useCache:{default:!0},inflate:{default:!1},batch:{default:!1},modelToWorldScale:{type:"number",default:1}},init(){this.jsonPreprocessor=null,this.loadTemplates()},update(){this.applySrc(C(this.data.src),this.data.contentType)},remove(){this.data.batch&&this.model&&this.el.sceneEl.systems["hubs-systems"].batchManagerSystem.removeObject(this.el.object3DMap.mesh);const e=C(this.data.src);e&&m.release(e)},loadTemplates(){this.templates={},this.el.querySelectorAll(":scope > template").forEach(e=>{const t=document.importNode(e.firstElementChild||e.content.firstElementChild,!0);this.templates[e.getAttribute("data-name")]=t})},applySrc(e,t){var n=this;return f(function*(){try{if(e===n.lastSrc)return;const o=n.lastSrc;if(n.lastSrc=e,!e)return void(n.inflatedEl&&(console.warn("gltf-model-plus set to an empty source, unloading inflated model."),n.disposeLastInflatedEl()));n.el.emit("model-loading");const a=yield A(e,t,n.data.useCache,n.jsonPreprocessor);if(e!=n.lastSrc)return;n.disposeLastInflatedEl(),n.model=a.scene||a.scenes[0],n.data.batch&&n.el.sceneEl.systems["hubs-systems"].batchManagerSystem.addObject(n.model),a.animations.length>0?(n.el.setAttribute("animation-mixer",{}),n.el.components["animation-mixer"].initMixer(n.model.animations)):n.model.traverse(e=>{const t=e.isMesh&&e.geometry.isBufferGeometry,n=t&&e.geometry.boundsTree;if(t&&!n&&e.geometry.attributes.position){const t=e.geometry,n=t.index?t.index.count/3:t.attributes.position.count/3;n>1e3&&n<1e6&&(t.boundsTree=new d.a(e.geometry,{strategy:0,maxDepth:30}))}});const i={};let s=n.model;if(n.data.inflate&&(n.inflatedEl=w(i,n.model,n.templates,!0,n.data.modelToWorldScale))){if(n.el.appendChild(n.inflatedEl),(s=n.inflatedEl.object3D).visible=!1,yield Object(r.a)(),e!=n.lastSrc)return;yield function(e,t){return E.apply(this,arguments)}(n.inflatedEl,i);for(const e in n.templates)T(n.el,e,n.templates[e])}const c=[];s.traverse(e=>{const t=e.el;t&&c.push(()=>e.el=t)});const u=n.el.sceneEl.components["environment-map"];u&&u.applyEnvironmentMap(s),o&&m.release(o),n.el.setObject3D("mesh",s),c.forEach(e=>e()),s.visible=!0,n.el.emit("model-loaded",{format:"gltf",model:n.model})}catch(t){m.release(e),console.error("Failed to load glTF model",t,n),n.el.emit("model-error",{format:"gltf",src:e})}})()},disposeLastInflatedEl(){this.inflatedEl&&(this.inflatedEl.parentNode.removeChild(this.inflatedEl),this.inflatedEl.object3D.traverse(e=>{e.material&&e.material.dispose&&e.material.dispose(),e.geometry&&(e.geometry.dispose&&e.geometry.dispose(),e.geometry.boundsTree=null)}),delete this.inflatedEl,this.el.removeAttribute("animation-mixer"))}})},9:function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"l",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"m",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"k",function(){return y}),n.d(t,"d",function(){return b});const r=new THREE.Vector3;new THREE.Quaternion;function o(e,t){return e.updateMatrices(),t.setFromMatrixPosition(e.matrixWorld),t}function a(e,t){return e.updateMatrices(),e.matrixWorld.decompose(r,t,r),t}function i(e){e.map&&e.map.dispose(),e.lightMap&&e.lightMap.dispose(),e.bumpMap&&e.bumpMap.dispose(),e.normalMap&&e.normalMap.dispose(),e.specularMap&&e.specularMap.dispose(),e.envMap&&e.envMap.dispose(),e.dispose()}function s(e){if(e instanceof THREE.Mesh&&(e.geometry&&e.geometry.dispose(),e.material)){let t;e.material instanceof THREE.MeshFaceMaterial||e.material instanceof THREE.MultiMaterial?t=e.material.materials:e.material instanceof Array&&(t=e.material),t?t.forEach(i):i(e.material)}}const c=(new THREE.Matrix4).identity();function u(e,t){e.matrixIsModified||e.applyMatrix(c),e.matrixWorld.copy(t),e.parent?e.matrix=e.matrix.getInverse(e.parent.matrixWorld).multiply(e.matrixWorld):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale),e.childrenNeedMatrixWorldUpdate=!0}function l(e,t){const n=e.tracks.map(e=>(function(e,t){const{nodeName:n,objectName:r,objectIndex:o,propertyName:a,propertyIndex:i}=THREE.PropertyBinding.parseTrackName(e.name);let s="";if(void 0!==n){const e=t.get(n);void 0===e&&console.warn(`Could not find KeyframeTrack target with uuid: "${n}"`),s+=e}void 0!==r&&(s+="."+r),void 0!==o&&(s+="["+o+"]"),void 0!==a&&(s+="."+a),void 0!==i&&(s+="["+i+"]");const c=e.clone();return c.name=s,c})(e,t));return new THREE.AnimationClip(e.name,e.duration,n)}function d(e,t){const n=new Map,r=new Map,o=e.clone();return function e(t,n,r){r(t,n);for(let o=0;o<t.children.length;o++)e(t.children[o],n.children[o],r)}(e,o,(e,t)=>{n.set(e,t)}),e.traverse(e=>{const o=n.get(e);t&&(o.uuid=e.uuid),r.set(e.uuid,o.uuid)}),e.traverse(e=>{const t=n.get(e);if(!t)return;if(e.animations&&(t.animations=e.animations.map(e=>l(e,r))),e.isMesh&&e.geometry.boundsTree&&(t.geometry.boundsTree=e.geometry.boundsTree),!e.isSkinnedMesh)return;const o=e.skeleton.bones;t.skeleton=e.skeleton.clone(),t.skeleton.bones=o.map(e=>{if(!n.has(e))throw new Error("Required bones are not descendants of the given object.");return n.get(e)}),t.bind(t.skeleton,e.bindMatrix)}),o}function p(e,t){let n=[e];for(;n.length;){const e=n.shift();if(t(e))return e;e.children&&(n=n.concat(e.children))}return null}const h=function(){const e=new THREE.Matrix4,t={position:new THREE.Vector3,quaternion:new THREE.Quaternion,scale:new THREE.Vector3},n={position:new THREE.Vector3,quaternion:new THREE.Quaternion,scale:new THREE.Vector3},r={position:new THREE.Vector3,quaternion:new THREE.Quaternion,scale:new THREE.Vector3};return function(o,a,i,s){return n.quaternion.setFromRotationMatrix(e.extractRotation(o)),t.quaternion.setFromRotationMatrix(e.extractRotation(a)),THREE.Quaternion.slerp(n.quaternion,t.quaternion,r.quaternion,i),r.position.lerpVectors(n.position.setFromMatrixColumn(o,3),t.position.setFromMatrixColumn(a,3),i),r.scale.lerpVectors(n.scale.setFromMatrixScale(o),t.scale.setFromMatrixScale(a),i),s.compose(r.position,r.quaternion,r.scale)}}(),f=function(){const e=new THREE.Vector3,t=new THREE.Vector3;return function(n,r){return n.updateMatrices(),r.updateMatrices(),e.setFromMatrixColumn(n.matrixWorld,3),t.setFromMatrixColumn(r.matrixWorld,3),e.distanceToSquared(t)}}();const m=function(){const e=new THREE.Matrix4,t=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Vector3,o=new THREE.Vector3,a=new THREE.Vector3,i=new THREE.Matrix4;return function(s,c){return e.identity().extractRotation(i.copy(s)),t.setFromMatrixColumn(e,2).multiplyScalar(-1),n.copy(t).sub(a.copy(t).projectOnVector(o.set(0,1,0))).normalize(),r.crossVectors(n,o),c.makeBasis(r,o,n.multiplyScalar(-1)),c.scale(a.setFromMatrixScale(i)),c.setPosition(a.setFromMatrixColumn(i,3)),c}}(),g=function(){const e=new THREE.Matrix4,t=new THREE.Matrix4,n=new THREE.Matrix4;return function(r,o,a){m(r,e),n.getInverse(e).multiply(r),m(o,t),a.copy(t).multiply(n)}}(),v=function(e,t,n,r,o,a){const i=Math.max(Math.abs(r.max.y-o.y),Math.abs(o.y-r.min.y)),s=Math.max(Math.abs(r.max.x-o.x),Math.abs(o.x-r.min.x)),c=THREE.Math.degToRad(e/2),u=Math.atan(Math.tan(c)*t)*(a?.5:1),l=Math.abs(1.05*i/Math.tan(c)),d=Math.abs(1.05*s/Math.tan(u)),p=Math.abs(r.max.z-o.z)+Math.max(l,d);return(a?Math.max(.25,p):p)||1.25},y=function(){const e=new THREE.Matrix4,t=new THREE.Matrix4,n=new THREE.Matrix4,r=new THREE.Vector3;return function(o,a,i){return e.copy(o),i.copy(n.makeRotationY(a).multiply(t.extractRotation(e))).scale(r.setFromMatrixScale(e)).setPosition(r.setFromMatrixPosition(e))}}(),b=function(){const e=new THREE.Matrix4,t=new THREE.Matrix4;return function(n,r,o){r.updateMatrices(),e.getInverse(r.matrix),t.multiplyMatrices(o,e),u(n,t)}}()},91:function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});const o=window.createImageBitmap||function(){var e,t=(e=function*(e){return new Promise(t=>{let n;if(e instanceof Blob)n=URL.createObjectURL(e);else{const t=document.createElement("canvas"),r=t.getContext("2d");t.width=e.width,t.height=e.height,r.putImageData(e,0,0),n=t.toDataURL()}const r=document.createElement("img");r.addEventListener("load",()=>t(r)),r.src=n})},function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,c,"next",e)}function c(e){r(i,o,a,s,c,"throw",e)}s(void 0)})});return function(e){return t.apply(this,arguments)}}();function a(e){e instanceof HTMLImageElement&&e.src.startsWith("blob:")?URL.revokeObjectURL(e.src):e.close&&e.close()}},93:function(e,t,n){e.exports={"avatar-landing":"avatar__avatar-landing__33j9b",avatarLanding:"avatar__avatar-landing__33j9b","form-submit":"avatar__form-submit__RsmP9",formSubmit:"avatar__form-submit__RsmP9",title:"avatar__title__rg8KL",attributions:"avatar__attributions__3ULZG",logo:"avatar__logo__BuXl_",box:"avatar__box__sLtp1","selected-message":"avatar__selected-message__1rYQu",selectedMessage:"avatar__selected-message__1rYQu",preview:"avatar__preview__1j63F","copy-tip":"avatar__copy-tip__1qRHz",copyTip:"avatar__copy-tip__1qRHz","edit-avatar":"avatar__edit-avatar__2oK1-",editAvatar:"avatar__edit-avatar__2oK1-"}},96:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(13);n(4);const o={"action-color":"#FF3464","action-label-color":"#FF3464","action-color-disabled":"#FF74A4","action-color-highlight":"#FF74A4","action-text-color":"#FFFFFF","action-subtitle-color":"#F0F0F0","notice-background-color":"#2F80ED","notice-text-color":"#FFFFFF","favorited-color":"#FFC000"};function a(e){return window.APP_CONFIG&&window.APP_CONFIG.theme&&window.APP_CONFIG.theme[e]?window.APP_CONFIG.theme[e]:o[e]}function i(e,t){e.setAttribute("text-button","backgroundColor",a(t?"action-color-highlight":"action-color")),e.setAttribute("text-button","backgroundHoverColor",t?"#aaa":a("action-color-highlight"))}Object(r.a)().then(()=>{window.APP_CONFIG&&window.APP_CONFIG.theme&&window.APP_CONFIG.theme["dark-theme"]?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme");const e=a("action-color"),t=a("action-color-highlight");document.querySelector("#rounded-text-button")&&(document.querySelector("#rounded-text-button").setAttribute("text-button",`textHoverColor: ${t}; textColor: ${e}; backgroundColor: #fff; backgroundHoverColor: #aaa;`),document.querySelector("#rounded-button").setAttribute("text-button",`textHoverColor: ${t}; textColor: ${e}; backgroundColor: #fff; backgroundHoverColor: #aaa;`),document.querySelector("#rounded-text-action-button").setAttribute("text-button",`textHoverColor: #fff; textColor: #fff; backgroundColor: ${e}; backgroundHoverColor: ${t}`),document.querySelector("#rounded-action-button").setAttribute("text-button",`textHoverColor: #fff; textColor: #fff; backgroundColor: ${e}; backgroundHoverColor: ${t}`))})},97:function(e,t,n){e.exports=n.p+"assets/images/warning_icon-739d2a2ea906737505bcbc2cb51123a8.png"},98:function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return s});const a="\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n  #include <uv_vertex>\n  #include <uv2_vertex>\n  #include <color_vertex>\n  #include <skinbase_vertex>\n\n  #include <begin_vertex>\n  #include <morphtarget_vertex>\n  #include <skinning_vertex>\n  #include <project_vertex>\n  #include <logdepthbuf_vertex>\n\n  #include <worldpos_vertex>\n  #include <clipping_planes_vertex>\n  #include <fog_vertex>\n}\n",i="\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <aomap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n  #include <clipping_planes_fragment>\n\n  vec4 diffuseColor = vec4(diffuse, opacity);\n  ReflectedLight reflectedLight = ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));\n  vec3 totalEmissiveRadiance = emissive;\n\n  #include <logdepthbuf_fragment>\n  #include <map_fragment>\n  #include <color_fragment>\n  #include <alphatest_fragment>\n  #include <emissivemap_fragment>\n\n  reflectedLight.indirectDiffuse += vec3(1.0);\n\n  #include <aomap_fragment>\n\n  reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\n  vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n  gl_FragColor = vec4(outgoingLight, diffuseColor.a);\n\n  #include <premultiplied_alpha_fragment>\n  #include <tonemapping_fragment>\n  #include <encodings_fragment>\n  #include <fog_fragment>\n}\n";class s extends THREE.ShaderMaterial{constructor(...e){super(...e),o(this,"type","MobileStandardMaterial"),o(this,"isMobileStandardMaterial",!0)}static fromStandardMaterial(e){const t={vertexShader:a,fragmentShader:i,uniforms:r({},THREE.UniformsUtils.clone(THREE.UniformsLib.fog),{uvTransform:{value:new THREE.Matrix3},diffuse:{value:e.color},opacity:{value:e.opacity},map:{value:e.map},aoMapIntensity:{value:e.aoMapIntensity},aoMap:{value:e.aoMap},emissive:{value:e.emissive},emissiveMap:{value:e.emissiveMap}}),fog:!0,lights:!1,opacity:e.opacity,transparent:e.transparent,alphaTest:e.alphaTest,skinning:e.skinning,morphTargets:e.morphTargets,vertexColors:e.vertexColors,name:e.name},n=new s(t);return n.color=e.color,n.map=e.map,n.aoMap=e.aoMap,n.aoMapIntensity=e.aoMapIntensity,n.emissive=e.emissive,n.emissiveIntensity=e.emissiveIntensity,n.emissiveMap=e.emissiveMap,n.refreshUniforms(),n}refreshUniforms(){this.uniforms.opacity.value=this.opacity,this.color&&this.uniforms.diffuse.value.copy(this.color),this.emissive&&this.uniforms.emissive.value.copy(this.emissive).multiplyScalar(this.emissiveIntensity),this.map&&(this.uniforms.map.value=this.map),this.aoMap&&(this.uniforms.aoMap.value=this.aoMap,this.uniforms.aoMapIntensity.value=this.aoMapIntensity);const e=this.map||this.emissiveMap;e&&!0===e.matrixAutoUpdate&&(e.updateMatrix(),this.uniforms.uvTransform.value.copy(e.matrix))}clone(){return s.fromStandardMaterial(this)}}}});
//# sourceMappingURL=avatar-57884fcb729c47e0180b.js.map